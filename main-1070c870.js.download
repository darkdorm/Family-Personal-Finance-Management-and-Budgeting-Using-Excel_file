import{a as de,U as Jn,b as Zn,u as Te,c as es,d as as,e as ns,f as en,g as ss,M as E,h as ts,i as os,C as b,G as $e,j as ze,k as an,S as Ge,l as nn,m as is,n as We,P as Be,o as _e,p as sn,q as tn,T as oa,r as we,s as xe,t as z,N as ls,v as cs,w as ma,x as re,y as He,z as rs,A as ds,B as us,_ as ge,D as ps,F as gs,H as ms,I as hs,J as _s,K as Ps,L as fs,O as Is,Q as La,R as Es,V as As,W as xs,X as ys,Y as Ts,Z as js,$ as Ns,a0 as bs,a1 as vs,a2 as Cs,E as ws,a3 as Ss}from"./event-1d0976c1.js";import{a as t,R as ia,m as Ue,u as ae,n as sa,k as e,A as Ls,o as Ke,p as Xe,q as Ms,s as Ds,N as Vs,C as ks,v as Rs,w as Us,x as Os,y as ha,O as Gs,z as Bs,B as qe,l as Ys,D as Fs}from"./r-vendor-5a2adf97.js";import{d as Se,i as Hs,q as Re,a as U,e as qs,f as Qs,g as $s,o as zs,h as Ws,j as Xs,t as Ks,k as Js,n as Zs,l as et}from"./tools-vendor-6d2499dd.js";import{g as at,c as nt,u as st,a as ue,b as on,t as Ma,l as tt,o as ot,d as it,s as lt,e as ct,f as rt,h as dt,C as ut,i as pt,j as gt,k as mt,U as Da,m as ht,A as _t}from"./index-9464c3f8.js";import{M as je,I as Aa,B as ye,D as Pt,S as la,a as ve,F as De,A as Je,b as ln,R as O,c as ee,m as _a,P as ft,d as It,e as ta,f as Et,L as cn,g as At,h as xt,z as yt,i as Tt,j as jt,C as Nt}from"./ui-vendor-22bbf91d.js";import"./__commonjsHelpers__-de833af9.js";function $o(){import.meta.url,import("_").catch(()=>1);async function*o(){}}function bt(o={}){const{nonce:a,onScriptLoadSuccess:s,onScriptLoadError:n}=o,[r,i]=t.useState(!1),I=t.useRef(s);I.current=s;const d=t.useRef(n);return d.current=n,t.useEffect(()=>{const P=document.createElement("script");return P.src="https://accounts.google.com/gsi/client",P.async=!0,P.defer=!0,P.nonce=a,P.onload=()=>{var m;i(!0),(m=I.current)===null||m===void 0||m.call(I)},P.onerror=()=>{var m;i(!1),(m=d.current)===null||m===void 0||m.call(d)},document.body.appendChild(P),()=>{document.body.removeChild(P)}},[a]),r}const rn=t.createContext(null);function vt({clientId:o,nonce:a,onScriptLoadSuccess:s,onScriptLoadError:n,children:r}){const i=bt({nonce:a,onScriptLoadSuccess:s,onScriptLoadError:n}),I=t.useMemo(()=>({clientId:o,scriptLoadedSuccessfully:i}),[o,i]);return ia.createElement(rn.Provider,{value:I},r)}function dn(){const o=t.useContext(rn);if(!o)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return o}function Ct(o){var a;return(a=o==null?void 0:o.clientId)!==null&&a!==void 0?a:o==null?void 0:o.client_id}function wt({flow:o="implicit",scope:a="",onSuccess:s,onError:n,onNonOAuthError:r,overrideScope:i,state:I,...d}){const{clientId:P,scriptLoadedSuccessfully:m}=dn(),p=t.useRef(),l=t.useRef(s);l.current=s;const T=t.useRef(n);T.current=n;const A=t.useRef(r);A.current=r,t.useEffect(()=>{var L,c;if(!m)return;const M=o==="implicit"?"initTokenClient":"initCodeClient",G=(c=(L=window==null?void 0:window.google)===null||L===void 0?void 0:L.accounts)===null||c===void 0?void 0:c.oauth2[M]({client_id:P,scope:i?a:"openid profile email ".concat(a),callback:h=>{var C,f;if(h.error)return(C=T.current)===null||C===void 0?void 0:C.call(T,h);(f=l.current)===null||f===void 0||f.call(l,h)},error_callback:h=>{var C;(C=A.current)===null||C===void 0||C.call(A,h)},state:I,...d});p.current=G},[P,m,o,a,I]);const F=t.useCallback(L=>{var c;return(c=p.current)===null||c===void 0?void 0:c.requestAccessToken(L)},[]),D=t.useCallback(()=>{var L;return(L=p.current)===null||L===void 0?void 0:L.requestCode()},[]);return o==="implicit"?F:D}function St({onSuccess:o,onError:a,promptMomentNotification:s,cancel_on_tap_outside:n,prompt_parent_id:r,state_cookie_domain:i,hosted_domain:I,use_fedcm_for_prompt:d=!1,disabled:P,auto_select:m}){const{clientId:p,scriptLoadedSuccessfully:l}=dn(),T=t.useRef(o);T.current=o;const A=t.useRef(a);A.current=a;const F=t.useRef(s);F.current=s,t.useEffect(()=>{var D,L,c,M,G,h,C,f,x;if(l){if(P){(c=(L=(D=window==null?void 0:window.google)===null||D===void 0?void 0:D.accounts)===null||L===void 0?void 0:L.id)===null||c===void 0||c.cancel();return}return(h=(G=(M=window==null?void 0:window.google)===null||M===void 0?void 0:M.accounts)===null||G===void 0?void 0:G.id)===null||h===void 0||h.initialize({client_id:p,callback:N=>{var H;if(!(N!=null&&N.credential))return(H=A.current)===null||H===void 0?void 0:H.call(A);const{credential:$,select_by:w}=N;T.current({credential:$,clientId:Ct(N),select_by:w})},hosted_domain:I,cancel_on_tap_outside:n,prompt_parent_id:r,state_cookie_domain:i,use_fedcm_for_prompt:d,auto_select:m}),(x=(f=(C=window==null?void 0:window.google)===null||C===void 0?void 0:C.accounts)===null||f===void 0?void 0:f.id)===null||x===void 0||x.prompt(F.current),()=>{var N,H,$;($=(H=(N=window==null?void 0:window.google)===null||N===void 0?void 0:N.accounts)===null||H===void 0?void 0:H.id)===null||$===void 0||$.cancel()}}},[p,l,n,r,i,I,d,P,m])}const Lt=()=>{const{userInfo:o}=de();return t.useEffect(()=>{const s="usersnap-api",n=document.getElementById(s);if(window.onUsersnapCXLoad=function(r){r.init(),window.usersnap=r},!n){const r=document.createElement("script");r.defer=!0,r.id=s,r.src="https://widget.usersnap.com/global/load/".concat(Jn,"?onload=onUsersnapCXLoad"),document.head.appendChild(r)}return()=>{var r;(r=window==null?void 0:window.usersnap)==null||r.destroy()}},[]),t.useEffect(()=>{if(!window.usersnap)return;const s=n=>{n.apiKey===Zn&&o.email&&(n.api.setValue("visitor",o.email),n.api.setValue("custom",{googleEmail:o.email}))};return window.usersnap.on("open",s),()=>window.usersnap.off("open",s)},[window.usersnap,o.email]),{openFeedback:()=>{window.usersnap&&window.usersnap.logEvent("openFeedBack")}}},un=()=>{const{setUsageInfo:o}=Te(),[a,s]=t.useState("");return{fetchUsagesInfo:t.useCallback(async()=>{try{const r=await at(),i=r==null?void 0:r.data;o({gpt3:{used:(i==null?void 0:i.gpt3Usage)||0,total:(i==null?void 0:i.gpt3Quota)||0},gpt4:{used:(i==null?void 0:i.gpt4Usage)||0,total:(i==null?void 0:i.gpt4Quota)||0},docUploadLimitHint:i.docUploadLimitHint})}catch(r){s(r)}},[]),error:a}};function ei(o){var a;return!o.isLogin||((a=o.grayStrategyNew)==null?void 0:a.inputVersion)===es.NEW||o.internal===1}function Ze(o){var a;return((a=o.grayStrategyNew)==null?void 0:a.inputModel)===as.UPPER_MODEL||o.internal===1}function ai(o){var a;return!o.isLogin||((a=o.grayStrategyNew)==null?void 0:a.enhanceUpload)===ns.DISPLAY}const ca=()=>{const{setUserInfo:o}=de(),{setOutputModel:a}=en();return{fetchUserInfo:t.useCallback(async()=>{try{const r=(await nt()).data,i=await ss(r==null?void 0:r.picture),I=r.membershipExpDate?Math.ceil(Se(r.membershipExpDate).diff(Se(),"day",!0)):null,d={partnerStatus:"",partnerUid:"",refCode:"",...r,isPro:[E.MonthPro,E.YearPro,E.MonthProPlus,E.YearProPlus,E.MonthUnlimited,E.YearUnlimited].includes(r.membershipId),isTrial:r.membershipId===E.Trail,isProPlus:[E.MonthProPlus,E.YearProPlus,E.MonthUnlimited,E.YearUnlimited].includes(r.membershipId),isUnlimited:[E.MonthUnlimited,E.YearUnlimited].includes(r.membershipId),avatar:i,isLogin:!0,timeRemaining:I};o(d),a(Ze(d)?ts:os),st({userinfo:d})}catch(n){console.log("err:",n)}},[])}};function Va(){return new Promise(o=>{var a,s;typeof((s=(a=window.grecaptcha)==null?void 0:a.enterprise)==null?void 0:s.ready)!="function"?o(""):window.grecaptcha.enterprise.ready(async()=>{try{const n=await window.grecaptcha.enterprise.execute("6LfP64kpAAAAAP_Jl8kdL0-09UKzowM87iddJqXA",{action:"LOGIN"});o(n)}catch(n){o("")}})})}const{VITE_APP_HOST:Mt,VITE_APP_APPLE_CLIENT_ID:Dt}={VITE_APP_GA_TRACKING_ID:"G-GCNH5GGHBR",VITE_APP_GA_ADS_ID_OLD:"AW-11272106486",VITE_APP_TITLE:"PopAi",VITE_APP_IMAGE:"https://popaife.s3.ap-southeast-1.amazonaws.com/logo/popai-logo.svg",VITE_APP_GOOGLE_CLIENT_ID:"476681674934-g02u1qr1jh8apjj4d9t725t9t6mdkkqb.apps.googleusercontent.com",VITE_APP_APPLE_CLIENT_ID:"com.popai.chatsign.web",VITE_APP_TPL_PREVIEW_BASE_URL:"https://api.popai.pro",VITE_APP_FASTSPRING_FRONT_URL:"popaipro.onfastspring.com/popup-popaipro",VITE_APP_STRIPE_PUBLISH_KEY:"pk_live_51NEOwrLv0OqyBAuocZl621IpfBDzEDoYKz5QrmzX1Rtp72tW41UYPwYnwaXQIHb4BSqSkoENNLA6f6sKM49SQCp7009cPHNGoe",VITE_APP_UPLOAD_IMAGE_BUCKET:"popai-file",VITE_APP_VF_DM_PROJECT_ID:"65688545d14f4f0007f71bdf",VITE_APP_VF_DM_PROJECT_ID_AR:"65e6f0a2905ec742d67e63a7",VITE_APP_AID:"32013",VITE_APP_PRODUCT_NAME:"popai",VITE_APP_APP_NAME:"popai-web",VITE_APP_NAME:"production",VITE_APP_HOST:"https://www.popai.pro",VITE_APP_API_PROXY:"https://api.popai.pro",VITE_APP_BASE_URL:"https://api.popai.pro",VITE_APP_DOMAIN:".popai.pro",VITE_APP_ANALYSIS_BASE_URL:"https://ug.popai.pro",VITE_APP_GA_ADS_ID_NEW:"AW-11283983651",VITE_APP_ANALYSIS_ID:"12",VITE_APP_META_PIXEL_ID1:"1693476791126527",VITE_APP_META_PIXEL_ID2:"3290089001281844",VITE_APP_META_PIXEL_ID3:"1261230351232091",VITE_APP_META_PIXEL_ID4:"680298653708319",VITE_APP_BING_UET_TAG_ID:"343087646",VITE_APP_TWITTER_PIXEL_ID:"ogygr",VITE_APP_TWITTER_PIXEL_ID1:"oi1kw",VITE_APP_LINKEDIN_ID:"5431082",VITE_APP_CHROME_PLUGIN_REDIRECT_URI:"https://www.popai.pro",VITE_APP_CHROME_PLUGIN_ID:"jaaajddkaoldkiajncgakhmogoboijoo",VITE_APP_ALIFE_PID:"bv3hiie0te@b0077a65ecc9738",VITE_APP_PROMO_URL:"https://promo.popai.pro",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1},Vt=o=>{const{open:a,onCancel:s,onLoginSuccess:n}=o,{sendEvent:r}=ue(),[i,I]=t.useState(1),[d,P]=t.useState(""),[m,p]=t.useState(!1),[l,T]=t.useState(!1),[A,F]=t.useState(Array(6).fill("")),[D,L]=t.useState(59),[c,M]=t.useState(!1),{pathname:G}=Ue(),h=G==="/home",C=t.useRef(null),f=t.useRef([]),{t:x}=ae(),[N,H]=t.useState(!0),$=wt({flow:"auth-code",onSuccess:async g=>{if(g!=null&&g.code){const y=await on({code:g==null?void 0:g.code,uri:location.origin},h?{[$e]:ze.input}:void 0);r("googlelogin_success_status"),n(y.data,"google-default")}},onError:g=>{r("LoginFail",{loginType:"google-default",error:g==null?void 0:g.error,error_description:g==null?void 0:g.error_description,error_uri:g==null?void 0:g.error_uri})}}),w=()=>{r("Clickgooglelogin"),$()},q=g=>{r("applelogin_click"),g.onClick()},K=()=>{r("loginwindow_close_click"),s(),H(!0),I(1),P("")},S=g=>{P(g.target.value),p(!1)},se=async()=>{const g=/[A-Za-z0-9.\-+_]+@[a-z0-9.\-+_]+\.[a-z]+/;if(d)if(r("emaillogin_click"),g.test(d)){r("emaillogin_check_success_status"),I(ne=>ne+1),M(!0),L(59),F(Array(6).fill(""));const y=await Va(),W={gtoken:y,...h?{[$e]:ze.input}:{}};Ma({email:d,token:y},W)}else p(!0)},{run:le}=sa(se,{wait:2e3,leading:!0,trailing:!1}),Ee=(g,y)=>{var ne;if(!/^\d$/.test(y)&&y!=="")return;const W=[...A];W[g]=y,F(W),y&&g<A.length-1&&((ne=f.current[g+1])==null||ne.focus(),A[g+1]&&setTimeout(()=>{var ie;(ie=f.current[g+1])==null||ie.select()})),l&&T(!1)},Pe=(g,y)=>{var W,ne,ie,_,V;g.key==="Backspace"&&y>0&&A[y]===""?(g.preventDefault(),(W=f.current[y-1])==null||W.focus()):g.key==="ArrowRight"?y<A.length-1&&((ne=f.current[y+1])==null||ne.focus(),setTimeout(()=>{var k;(k=f.current[y+1])==null||k.select()})):g.key==="ArrowLeft"?y>0&&((ie=f.current[y-1])==null||ie.focus(),(_=f.current[y-1])==null||_.select(),setTimeout(()=>{var k;(k=f.current[y-1])==null||k.select()})):g.key>="0"&&g.key<="9"&&A[y]==g.key&&(g.preventDefault(),(V=f.current[y+1])==null||V.focus(),setTimeout(()=>{var k;(k=f.current[y+1])==null||k.select()}))},me=g=>{var y;(y=f.current[g])==null||y.select()},pe=async()=>{M(!0),L(59);const g=await Va(),y={gtoken:g,...h?{[$e]:ze.input}:{}};Ma({email:d,token:g},y)},fe=async()=>{r("emaillogin_verifycode_click");const g=A.join("");try{const y=await tt({email:d,code:g});y!=null&&y.data?(r("emaillogin_success_status"),o==null||o.onLoginSuccess(y==null?void 0:y.data,"Email")):T(!0)}catch(y){T(!0)}},{run:he}=sa(fe,{wait:2e3,leading:!0,trailing:!1}),B=()=>{I(g=>g-1),T(!1),r("Clikedifferentlogin")},{run:Y}=sa(B,{wait:2e3,leading:!0,trailing:!1}),J=g=>{const y=g.clipboardData.getData("text");if(/^\d{6}$/.test(y)){const W=(y+"").split("");F(W)}else g.preventDefault()};t.useEffect(()=>{a&&(r("loginwindow_click"),setTimeout(()=>{var g;(g=C==null?void 0:C.current)==null||g.focus()}))},[a]),t.useEffect(()=>{var g;i===2&&(f.current&&((g=f.current[0])==null||g.focus()),r("emaillogin_verifypage_show"))},[i]),t.useEffect(()=>{let g;return c&&D>0?g=setInterval(()=>{L(y=>y-1)},1e3):D===0&&M(!1),()=>{clearInterval(g)}},[c,D]),t.useEffect(()=>{const g=window.open;return window.open=function(y,W,ne){var ie;if(Hs(y)&&((ie=y==null?void 0:y.toString())!=null&&ie.includes("https://accounts.google.com/o/oauth2/v2/auth"))){const[_,V]=y.split("?"),k=Re.parse(V);k.prompt="select_account";const R=Re.stringify(k),X="".concat(_,"?").concat(R);return g(X,W,ne)}return g(y,W,ne)},()=>{window.open=g}},[]);const te=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"email-login-wrapper",children:[e.jsx(Aa,{className:U({"email-login-input":!0,"email-format-error":m}),value:d,onChange:S,placeholder:x("common.emailAddress"),ref:C}),e.jsx("div",{className:U({"email-error-tip":!0,"email-error-tip-show":!m}),children:x("common.againEmail")}),e.jsx(ye,{className:U({"step-next":!0,"step-next-disabled":!d}),onClick:le,children:x("common.Next")}),e.jsx(Pt,{plain:!0,children:x("common.or")})]}),e.jsxs("div",{className:"login-btn-wrapper",children:[e.jsxs(ye,{className:"login-btn",onClick:()=>w(),children:[e.jsx(b,{className:"login-icon",type:"google"}),e.jsx("span",{className:"login-text",children:x("common.continueGoogle")})]}),N&&e.jsxs("span",{className:"show-more-btn",onClick:()=>H(!1),children:[x("common.more")," ",e.jsx(b,{className:"arrow-icon",type:"arrowBottomSquare"})]}),e.jsx(Ls,{clientId:Dt,redirectURI:Mt,responseType:"code",responseMode:"query",render:g=>e.jsxs(ye,{className:U({"login-btn":!0,"show-more":N}),onClick:()=>q(g),children:[e.jsx(b,{className:"login-icon",type:"apple"}),e.jsx("span",{className:"login-text",children:x("common.continueApple")})]})})]}),e.jsxs("div",{className:"desc-text",children:[x("hoc.requireAuth.descText"),e.jsxs("a",{className:"highlight-text",target:"_blank",href:"/terms/user",children:[" ",x("common.descService")]})," & ",e.jsx("a",{className:"highlight-text",target:"_blank",href:"/terms/privacy",children:x("common.descPrivacy")}),"."]})]}),Ie=()=>e.jsxs("div",{className:"email-login-step-two",children:[e.jsx("div",{className:"verify-email",children:x("hoc.requireAuth.verifyEmail")}),e.jsxs("div",{className:"sent-email",children:[x("hoc.requireAuth.sentTo")," ",d,".",x("hoc.requireAuth.checkEmail")]}),e.jsx("div",{className:"code-input-wra",children:A.map((g,y)=>e.jsx("input",{className:U({"code-input":!0,"code-input-error":l}),type:"text",maxLength:1,value:g,onKeyDown:W=>Pe(W,y),onFocus:()=>me(y),onChange:W=>Ee(y,W.target.value),ref:W=>f.current[y]=W,onPaste:J},y))}),e.jsx("div",{className:U({"wrong-code":!0,"wrong-code-show":l}),children:x("hoc.requireAuth.wrongCode")}),D?e.jsxs("div",{className:"count-down",children:[D,"s"]}):e.jsx("div",{className:"resend-code",children:e.jsx("span",{onClick:pe,children:x("hoc.requireAuth.resendCode")})}),e.jsx("div",{className:"verify-btn",onClick:he,children:x("hoc.requireAuth.Verify")}),e.jsx("div",{className:"use-different",onClick:Y,children:x("hoc.requireAuth.useEmail")})]}),v=()=>{if(i===1)return te();if(i===2)return Ie()};return e.jsx(je,{wrapClassName:"login-modal",centered:!0,width:440,open:a,footer:null,styles:{mask:{backgroundColor:"rgba(0, 0, 0, 0.88)"}},onCancel:K,closeIcon:e.jsx(b,{className:"close-icon",type:"modalClose"}),children:e.jsxs("div",{className:"login-container",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("div",{className:"login-logo",children:e.jsx(b,{className:"brand-icon",type:"logoText"})}),e.jsxs("div",{className:"login-title",children:[e.jsxs("div",{className:"login-title-text",children:[" ","PopAi"]}),e.jsx("div",{className:"login-slogan",children:x("common.Workspace")})]})]}),v()]})})};const na={month:"SubscribeMonthSuccess",year:"SubscribeYearSuccess"},Pa={month:"SubscribeMonthCancel",year:"SubscribeYearCancel"},{VITE_APP_CHROME_PLUGIN_REDIRECT_URI:kt,VITE_APP_CHROME_PLUGIN_ID:Rt}={VITE_APP_GA_TRACKING_ID:"G-GCNH5GGHBR",VITE_APP_GA_ADS_ID_OLD:"AW-11272106486",VITE_APP_TITLE:"PopAi",VITE_APP_IMAGE:"https://popaife.s3.ap-southeast-1.amazonaws.com/logo/popai-logo.svg",VITE_APP_GOOGLE_CLIENT_ID:"476681674934-g02u1qr1jh8apjj4d9t725t9t6mdkkqb.apps.googleusercontent.com",VITE_APP_APPLE_CLIENT_ID:"com.popai.chatsign.web",VITE_APP_TPL_PREVIEW_BASE_URL:"https://api.popai.pro",VITE_APP_FASTSPRING_FRONT_URL:"popaipro.onfastspring.com/popup-popaipro",VITE_APP_STRIPE_PUBLISH_KEY:"pk_live_51NEOwrLv0OqyBAuocZl621IpfBDzEDoYKz5QrmzX1Rtp72tW41UYPwYnwaXQIHb4BSqSkoENNLA6f6sKM49SQCp7009cPHNGoe",VITE_APP_UPLOAD_IMAGE_BUCKET:"popai-file",VITE_APP_VF_DM_PROJECT_ID:"65688545d14f4f0007f71bdf",VITE_APP_VF_DM_PROJECT_ID_AR:"65e6f0a2905ec742d67e63a7",VITE_APP_AID:"32013",VITE_APP_PRODUCT_NAME:"popai",VITE_APP_APP_NAME:"popai-web",VITE_APP_NAME:"production",VITE_APP_HOST:"https://www.popai.pro",VITE_APP_API_PROXY:"https://api.popai.pro",VITE_APP_BASE_URL:"https://api.popai.pro",VITE_APP_DOMAIN:".popai.pro",VITE_APP_ANALYSIS_BASE_URL:"https://ug.popai.pro",VITE_APP_GA_ADS_ID_NEW:"AW-11283983651",VITE_APP_ANALYSIS_ID:"12",VITE_APP_META_PIXEL_ID1:"1693476791126527",VITE_APP_META_PIXEL_ID2:"3290089001281844",VITE_APP_META_PIXEL_ID3:"1261230351232091",VITE_APP_META_PIXEL_ID4:"680298653708319",VITE_APP_BING_UET_TAG_ID:"343087646",VITE_APP_TWITTER_PIXEL_ID:"ogygr",VITE_APP_TWITTER_PIXEL_ID1:"oi1kw",VITE_APP_LINKEDIN_ID:"5431082",VITE_APP_CHROME_PLUGIN_REDIRECT_URI:"https://www.popai.pro",VITE_APP_CHROME_PLUGIN_ID:"jaaajddkaoldkiajncgakhmogoboijoo",VITE_APP_ALIFE_PID:"bv3hiie0te@b0077a65ecc9738",VITE_APP_PROMO_URL:"https://promo.popai.pro",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1};let fa="";const Ut=o=>{var he;const{children:a}=o,{sendEvent:s}=ue(),{fetchUserInfo:n}=ca(),[r,i]=t.useState(!0),[I,d]=t.useState(!1),[P,m]=t.useState(""),{userInfo:p,setUserInfo:l,authStatus:T,setAuthStatus:A,setDiscountInfo:F}=de(),{sessionId:D,finishedReport:L,setfinishedReport:c}=an(),{requirePayInfo:M,setRequirePayInfo:G,setModelList:h}=Te(),C=Ke(),f=Ue(),x=f.pathname==="/home",N=Re.parse(f.search.replace("?","")),H=N==null?void 0:N.code,$=N==null?void 0:N.stripeStatus,w=N==null?void 0:N.stripeSubType,q=N==null?void 0:N.productType,K=N==null?void 0:N.payFrom,S=N==null?void 0:N.fscNext,se=N!=null&&N.productYearPrice?decodeURIComponent(N.productYearPrice):N==null?void 0:N.productYearPrice,le=()=>{d(!1)},Ee=async B=>{var Y;try{await n();const J=de.getState().userInfo;if(Ze(J)&&(ke!=null&&ke.languageModelList4PCNew)&&h(ke==null?void 0:ke.languageModelList4PCNew),S&&(C("/"),J.isPro)){const g=[E.YearPro,E.YearProPlus,E.YearUnlimited].includes(J.membershipId)?"year":"month",y=na[g];se||(s(y,{provider:Be[_e.Paypal],productType:We[J.membershipId]}),s(sn[J.membershipId]),s("NewPay_success_status"))}const te=(Y=Se(J==null?void 0:J.createdAt))==null?void 0:Y.format("YYYY-MM-DD"),Ie=Se().format("YYYY-MM-DD");te===Ie&&(B!=null&&B.includes("google")&&s("Goolgelogin",{loginType:B}),B!=null&&B.includes("apple")&&s("Applelogin"),s("new_login_success")),s("Visitwebsite")}catch(J){console.error(J)}},Pe=async()=>{var B;try{const Y=await tn();F((B=Y.data)==null?void 0:B.discountCoupon)}catch(Y){F(null),console.error(Y)}},me=async()=>{localStorage.getItem(Ge.Authorization)?(await Ee(),Pe()):l({isLogin:!1}),i(!1)},pe=async(B,Y)=>{if(localStorage.setItem(Ge.Authorization,B),await Ee(Y),Y==="chrome-plugin")try{window.chrome.runtime.sendMessage(Rt,{event:"loginSuccess",data:{userInfo:p,token:B}})}catch(J){console.error(J)}s("login",{loginType:Y}),le(),C("/"),Pe()};St({use_fedcm_for_prompt:!0,disabled:!!localStorage.getItem(Ge.Authorization)||((he=f.pathname)==null?void 0:he.includes("discover")),onSuccess:async B=>{const Y=await ot({idTokenString:B.credential});s("fastgooglelogin_success_status"),pe(Y.data,"google-onetap")},onError:()=>{s("LoginFail",{loginType:"google-onetap"})}}),t.useEffect(()=>{K&&(C("/"),G({requirePay:M.requirePay+1,errorMsg:"",source:"PLUGIN"}))},[K]),t.useEffect(()=>{me()},[]),t.useEffect(()=>{const B=Re.parse(f.search.replace("?",""));(B==null?void 0:B.utm_source)?fa=window.location.href:window.document.referrer&&(fa=window.document.referrer),L||(s("enterWebsite",{source_url:fa,default_language:navigator==null?void 0:navigator.language,interface_language:Xe.language}),c(!0))},[]),Ms(()=>{D&&s("enterWebsite")},[D]),t.useEffect(()=>{T.showLogin&&!T.loginOpened&&!I&&(d(!0),A({showLogin:!1}))},[T,I]),t.useEffect(()=>{H&&(async()=>{let Y;document.referrer.includes("apple")?(Y=await it({code:H},x?{[$e]:ze.input}:void 0),s("applelogin_success_status"),pe(Y.data,"apple")):(Y=await on({code:H,uri:kt},x?{[$e]:ze.input}:void 0),await pe(Y.data,"chrome-plugin"))})()},[]);const fe=async()=>{var B;if(w){await n();const{userInfo:Y}=de.getState(),J=(B=Y==null?void 0:Y.parsedRoles)==null?void 0:B.includes("Trail");let te;$==="success"&&(te=na==null?void 0:na[w],se||(s(is[q]),s("NewPay_success_status")),se&&J&&(m(se),s("Freetrialsuccess",{type:q===We[E.YearPro]?"Pro":"Unlimite"}))),$==="cancel"&&(te=Pa==null?void 0:Pa[w],se&&s("Freetrialcancle",{type:q===We[E.YearPro]?"Pro":"Unlimite"})),te&&!se&&s(te,{provider:Be[_e.Stripe],productType:q}),C(f.pathname)}};return t.useEffect(()=>{fe()},[$,w,q]),Ds(()=>{localStorage.getItem(Ge.Authorization)||l({...nn})}),e.jsxs(e.Fragment,{children:[e.jsx(la,{className:"global-loading",spinning:r,size:"large",children:e.jsx("div",{className:U({"global-container":!0,"global-container-show":!r}),children:a({openLoginModal:()=>d(!0),productYearPrice:P})})}),e.jsx(Vt,{open:I,onCancel:le,onLoginSuccess:pe})]})};function Ot(o){return s=>e.jsx(Ut,{children:n=>e.jsx(o,{...s,...n})})}const ka=o=>{const{collapsed:a,menu:s,onNavLinkClick:n}=o,{icon:r,iconHover:i,iconActive:I}=s,d=Ue(),P=(m,p)=>{n==null||n(m,p)};return e.jsx(Vs,{className:U({"side-menu-item":!0,"side-menu-item-expanded":!a,"side-menu-item-collapsed":a,["side-menu-item-".concat(s==null?void 0:s.key)]:!a,"item-active":(d==null?void 0:d.pathname)===(s==null?void 0:s.path)}),to:"".concat(s.path).concat(d==null?void 0:d.search),children:e.jsxs("div",{className:"side-menu-item-container",onClick:m=>P(m,s.key),children:[e.jsxs("div",{className:"menu-icon",children:[e.jsx(b,{className:"menu-default-icon",type:r}),e.jsx(b,{className:"menu-active-icon",type:I}),e.jsx(b,{className:"menu-hover-icon",type:i})]}),!a&&e.jsx("span",{className:"item-label",children:s.label})]})})},Ra=o=>{const{collapsed:a=!1,userInfo:s,checkLoginStatus:n}=o,{t:r}=ae(),i=Ke(),I=Ue(),{sendEvent:d}=ue(),P=Te(D=>D.language),m=t.useMemo(()=>r("layout.sideMenu.createBtnLabel"),[P]),p=[{key:"chatwithdoc",path:"/chatwithdoc",label:r("layout.sideMenu.sideDocument"),icon:"folderColorized",iconHover:"folderColorizedHover",iconActive:"folder"},{key:"resentation",path:"/creation/".concat(oa.All,"/Presentation"),label:r("layout.sideMenu.presentation"),icon:"presentation",iconHover:"presentationHover",iconActive:"presentationActive"},{key:"image",path:"/creation/".concat(oa.All,"/Image"),label:r("layout.sideMenu.img"),icon:"navImageIcon",iconHover:"navImageIconHover",iconActive:"navImgae"}],l=()=>{n!=null&&n({type:"newchat"})&&(i("/".concat(I.search)),d("Clicknewchat"))},T=(D,L)=>{L==="chatwithdoc"&&d("ChatwithDoc",{isLogin:!!(s!=null&&s.isLogin)}),L==="creation"&&d("CreateWithAi",{isLogin:!!(s!=null&&s.isLogin)}),L==="image"&&d("ClickPanelAIImage",{isLogin:!!(s!=null&&s.isLogin)}),L==="resentation"&&d("ClickPanelAIPresentation",{isLogin:!!(s!=null&&s.isLogin)})},A=()=>e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"new-chat-button new-chat-button-expanded",onClick:l,children:[e.jsx(b,{className:"plus-icon",type:"plusFill"}),e.jsx("span",{className:"plus-text",children:m})]}),p.map(D=>e.jsx(ka,{collapsed:!1,menu:D,onNavLinkClick:T},D.key))]}),F=()=>e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"new-chat-button new-chat-button-collapsed",onClick:l,children:e.jsx(b,{className:"plus-icon",type:"plus"})}),p.map(D=>e.jsx(ka,{collapsed:!0,menu:D,onNavLinkClick:T},D.key))]});return e.jsx("div",{className:U({"side-menu":!0,"side-menu-expanded":!a,"side-menu-collapsed":a}),children:a?F():A()})};const Gt=o=>{const{open:a,onCancel:s,onConfirm:n,title:r,desc:i,okText:I,cancelText:d}=o;return e.jsxs(je,{wrapClassName:"confirm-modal",centered:!0,width:400,open:a,footer:null,closeIcon:e.jsx(b,{className:"close-icon",type:"modalClose"}),styles:{mask:{backgroundColor:"rgba(0, 0, 0, 0.88)"}},onCancel:s,children:[e.jsx("h1",{children:r}),i&&e.jsx("div",{className:"confirm-tips",children:i}),e.jsxs(ve,{className:"buttons",size:16,children:[e.jsx("button",{className:"cancel-btn",onClick:s,children:d}),e.jsx("button",{className:"confirm-btn",onClick:n,children:I})]})]})};const Bt=o=>{const{open:a=!1,onCancel:s}=o,{t:n}=ae(),r=()=>{s==null||s()},i=()=>{window.open("https://chromewebstore.google.com/detail/popai/jaaajddkaoldkiajncgakhmogoboijoo")};return e.jsxs(je,{wrapClassName:"download-app-modal-wrapper",width:720,open:a,centered:!0,closeIcon:null,footer:null,styles:{mask:{backgroundColor:"rgba(0, 0, 0, 0.88)"}},children:[e.jsxs("div",{className:"download-app-modal-header",children:[n("layout.downloadPlugin.header"),e.jsx("div",{className:"download-app-modal-close-icon",children:e.jsx(b,{type:"close",onClick:r})})]}),e.jsx("div",{className:"download-app-modal-description",children:n("layout.downloadPlugin.description")}),e.jsx("div",{className:"download-app-modal-content",children:e.jsxs(De,{children:[e.jsxs("div",{className:"download-app-modal-content-left",children:[e.jsx("div",{className:"download-app-modal-content-left-title",children:n("layout.downloadPlugin.iosApp")}),e.jsxs(De,{className:"download-app-modal-content-left-desc",children:[e.jsx(b,{className:"check-mark-icon",type:"checkMark"}),e.jsx("div",{className:"download-app-modal-content-left-desc-text",children:n("layout.downloadPlugin.continueChat")})]}),e.jsxs(De,{className:"download-app-modal-content-left-desc",children:[e.jsx(b,{className:"check-mark-icon",type:"checkMark"}),e.jsx("div",{className:"download-app-modal-content-left-desc-text",children:n("layout.downloadPlugin.snapPhotoChat")})]}),e.jsxs("div",{className:"download-app-modal-content-left-link",children:[e.jsx("div",{className:"download-app-modal-content-left-link-left"}),e.jsxs("div",{className:"download-app-modal-content-left-link-right",children:[e.jsx("div",{className:"download-app-modal-content-left-link-right-qr-code"}),e.jsx("div",{className:"download-app-modal-content-left-link-right-content",children:e.jsxs("a",{href:"http://itunes.apple.com/app/id6462700934",target:"_blank",children:[e.jsx(b,{className:"apple-icon",type:"apple"}),e.jsxs("div",{className:"download-app-modal-content-left-link-right-content-desc",children:[e.jsx("span",{children:n("layout.downloadPlugin.link")}),e.jsx("span",{children:n("layout.downloadPlugin.appStore")})]})]})})]})]})]}),e.jsxs("div",{className:"download-app-modal-content-right",children:[e.jsx("div",{className:"download-app-modal-content-right-title",children:n("layout.downloadPlugin.chromeExtension")}),e.jsxs(De,{className:"download-app-modal-content-right-desc",children:[e.jsx(b,{className:"pdf-summary-icon",type:"pdfSummary"}),e.jsx("div",{className:"download-app-modal-content-right-desc-text",children:n("layout.downloadPlugin.PDFSummary")})]}),e.jsxs(De,{className:"download-app-modal-content-right-desc",children:[e.jsx(b,{className:"screenshot-icon",type:"screenshot"}),e.jsx("div",{className:"download-app-modal-content-right-desc-text",children:n("layout.downloadPlugin.captureCharts")})]}),e.jsxs(De,{className:"download-app-modal-content-right-desc",children:[e.jsx(b,{className:"homework-icon",type:"homework"}),e.jsx("div",{className:"download-app-modal-content-right-desc-text",children:n("layout.downloadPlugin.extractChart")})]}),e.jsx("div",{className:"download-app-modal-content-right-pic"}),e.jsx("div",{className:"download-app-modal-content-right-operate",children:e.jsxs(De,{align:"center",justify:"center",flex:1,className:"download-app-modal-content-right-operate-store",onClick:i,children:[e.jsx(b,{className:"homework-icon",type:"chromeStore"}),e.jsx("div",{className:"text",children:n("layout.downloadPlugin.chromeStore")})]})})]})]})})]})},Yt=({copyText:o,children:a})=>{const{sendEvent:s}=ue(),{message:n}=Je.useApp(),{t:r}=ae(),i=t.useCallback(I=>{I.length>0&&(n.open({content:e.jsx(we,{icon:"success",content:r("common.copySuccess")})}),s("SubscribeCopyCode",{promoCode:I}))},[]);return e.jsx(ks,{text:o||"",onCopy:i,children:a})};const Ft=o=>{const[a,s]=t.useState(!1),{products:n,priceStatus:r,trialStatus:i,isLoading:I,proType:d,onBeforePay:P}=o,m=t.useMemo(()=>n.some(c=>[E.YearProPlus,E.MonthProPlus].includes(c.membershipId)),[n]),{t:p}=ae(),l=t.useMemo(()=>{const c=m?[z.Free,z.Pro,z.ProPlus,z.Unlimited]:[z.Free,z.Pro,z.Unlimited];return I?c.map(M=>({productType:M,productPriceNum:0,productPriceText:"",productInfoSummary:"",productInfoItemsSummary:[],productInfoItemsDetail:[],productIds:{},membershipId:E.Free,strikePrice:""})):n},[I,n,m]),T=async c=>{P==null||P({product:c,subType:d})},{run:A}=sa(T,{wait:2e3,leading:!0,trailing:!1}),F=c=>{if(d===xe.Year&&c.productType!=="FREE"){if(i===re.Pro&&c.productType===z.Pro)return p("layout.pay.freeTrialCancelTip",{price:"".concat(c.productPriceText).concat(c.productPriceNum)});if(i===re.ProAndUnlimit&&[z.Pro,z.Unlimited].includes(c.productType))return p("layout.pay.freeTrialCancelTip",{price:"".concat(c.productPriceText).concat(c.productPriceNum)});if([ma.TESTGROUPB].includes(r))return p("layout.pay.cancelTip")}return""},D=c=>d===xe.Year&&c.productType!=="FREE"&&(i===re.Pro&&c.productType===z.Pro||i===re.ProAndUnlimit&&[z.Pro,z.Unlimited].includes(c.productType))?p("common.freeSevenDayTrial"):p("common.subscribe"),L=c=>{var h;const M=(c==null?void 0:c.productType)===z.Unlimited,G=(c==null?void 0:c.productType)===z.ProPlus;return e.jsx("div",{className:"info-detail",children:(h=c==null?void 0:c.productInfoItemsDetail)==null?void 0:h.map((C,f)=>{const x=C;return e.jsxs("div",{className:"info-item",children:[x.title&&e.jsx("div",{className:"info-item-title",children:p("ENUM.".concat(x.title))}),x.desc&&e.jsx("ul",{className:U({"info-item-desc":!0,"plus-summary":M}),children:x.desc.map((N,H)=>{var w;const $=N;return e.jsxs("li",{children:[e.jsx("div",{className:U({"info-item-label":!0,"info-item-label-pro-plus":G,"info-item-label-plus":M}),children:typeof $.label=="string"?p("ENUM.".concat($.label)):$.label.param||""+p("ENUM.".concat($.label.text))}),$.value&&e.jsx("ul",{className:"info-item-value",children:(w=$.value)==null?void 0:w.map((q,K)=>e.jsxs("li",{children:[e.jsx(b,{className:"tick-icon",type:"tick"}),q.param?q.text.includes("||")?p("ENUM.".concat(q.text.split("||")[0]))+" "+q.param+" "+p("ENUM.".concat(q.text.split("||")[1])):q.param+p("ENUM.".concat(q.text)):p("ENUM.".concat(q.text))]},"info-item-value".concat(K)))})]},"info-item-desc".concat(H))})})]},"info-item".concat(f))})})};return e.jsx(e.Fragment,{children:l.map((c,M)=>{const G=(c==null?void 0:c.productType)===z.Free,h=(c==null?void 0:c.productType)===z.ProPlus,C=(c==null?void 0:c.productType)===z.Unlimited,f=qs(c==null?void 0:c.productPriceNum)&&(c==null?void 0:c.productPriceNum)>0;return M===0&&!a&&m?e.jsxs("div",{className:"free-plan-close",onClick:()=>s(!0),children:[e.jsx(b,{type:"leftArrow"}),"Free Plan"]},"product-detail".concat(M)):e.jsx("div",{className:U({"product-detail":!0,"product-detail-free":G&&m}),children:e.jsxs(ln,{loading:I,active:!0,children:[e.jsxs("div",{className:"pro-border",children:[(c==null?void 0:c.productType)===z.ProPlus&&e.jsx(b,{type:"payProBorder"}),C&&e.jsx(b,{type:"payProPlusBorder"})]}),C&&e.jsxs("div",{className:"product-tag",children:[e.jsx(b,{className:"triangle-icon",type:"triangle"}),e.jsx("div",{className:"product-tag-text",children:p("layout.pay.exclusiveOffer")})]}),e.jsxs("div",{className:"product-summary",children:[e.jsx("div",{className:U({"product-type":!0,"product-type-pay":f,"product-type-pro-plus":h,"product-type-pay-plus":C}),children:c==null?void 0:c.productType}),e.jsx("div",{className:"info-summary",children:(c==null?void 0:c.productInfoSummary)&&p("ENUM.".concat(c==null?void 0:c.productInfoSummary))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"product-price",children:[e.jsx("span",{className:"price-currency",children:c.productPriceText}),e.jsx("span",{className:"price-num",children:c.productPriceNum}),e.jsx("span",{className:"price-period",children:p("layout.pay.mo")}),!!(c!=null&&c.strikePrice)&&d===xe.Year&&[ma.TESTGROUPA,ma.TESTGROUPB].includes(r)&&e.jsxs("span",{className:"strike-price",children:[c.productPriceText,c==null?void 0:c.strikePrice]})]}),f&&d===xe.Year&&e.jsx("div",{className:"billed-tag-wra",children:e.jsx("span",{className:"billed-tag",children:p("layout.pay.billedYearly")})}),e.jsx("div",{className:"cancel-tip",children:F(c)})]}),f&&e.jsx("div",{className:"btn-wrapper",children:e.jsxs(ye,{className:U({"pro-plus-btn":h,"plus-btn":C}),onClick:()=>A(c),children:[e.jsx("span",{children:D(c)}),e.jsx(b,{type:"rightArrowOutlined"})]})}),L(c)]})},"product-detail".concat(M))})})},Ht=o=>{const{products:a,priceStatus:s,trialStatus:n,isLoading:r,shortMessage:i,onBeforePay:I}=o,{sendEvent:d}=ue(),{t:P}=ae(),{discountInfo:m,userInfo:p}=de(),{gpt4v:l}=Te(),[T,A]=t.useState(xe.Year),F=[E.Free,E.YearPro,E.YearProPlus,E.YearUnlimited],D=[E.Free,E.MonthPro,E.MonthProPlus,E.MonthUnlimited],L=t.useMemo(()=>a.some(f=>[E.YearProPlus,E.MonthProPlus].includes(f.membership.membershipId)),[a]),c=t.useMemo(()=>T===xe.Month?a.filter(f=>[E.Free,E.MonthPro,E.MonthProPlus,E.MonthUnlimited].includes(f.membership.membershipId)).sort((f,x)=>D.indexOf(f.membership.membershipId)-D.indexOf(x.membership.membershipId)):a.filter(f=>[E.Free,E.YearPro,E.YearProPlus,E.YearUnlimited].includes(f.membership.membershipId)).sort((f,x)=>F.indexOf(f.membership.membershipId)-F.indexOf(x.membership.membershipId)),[T,a]),M=f=>{var H;const x=Number(f.price)||0;let N;return[E.YearPro,E.YearProPlus,E.YearUnlimited].includes((H=f==null?void 0:f.membership)==null?void 0:H.membershipId)?N=(x/12/100).toFixed(1):N=x/100,Number(N)},G=f=>{const x=Number(f)||0;return Number(x/100)},h=t.useMemo(()=>{const f=[],x=L?[z.Free,z.Pro,z.ProPlus,z.Unlimited]:[z.Free,z.Pro,z.Unlimited];return c.map((N,H)=>{const $=x[H],w=Number(N.price)||0;f.push({productType:$,productIds:N.productIds,productPriceNum:M(N),price:(w/100).toFixed(1),productPriceText:N.currency,productInfoSummary:ls[$],productInfoItemsDetail:cs({type:$,gpt3Quota:N.membership.gpt3Quota,gpt4Quota:N.membership.gpt4Quota,pdfPageQuota:N.membership.pdfPageQuota,uploadQuota:N.membership.uploadQuota,gpt4v:l},Ze(p)),membershipId:N.membership.membershipId,strikePrice:G(N.strikePrice)})}),f},[c,L]),C=f=>{A(f),d("ClickPayTab",{tabType:f})};return e.jsxs("div",{className:"product-wrapper",children:[i&&e.jsxs("div",{className:"pay-desc",children:[e.jsx("span",{className:"pay-desc-reason",children:i})," ",P("common.please")]}),e.jsx("div",{className:"btn-container",children:e.jsxs("div",{className:"btn-group",children:[e.jsx("div",{className:"discount",children:P("layout.pay.save16")}),e.jsx("button",{className:U({active:T===xe.Month}),onClick:()=>C(xe.Month),children:P("layout.pay.monthly")}),e.jsx("button",{className:U({active:T===xe.Year}),onClick:()=>C(xe.Year),children:P("layout.pay.annually")})]})}),(m==null?void 0:m.discountCouponCode)&&e.jsx("div",{className:"discount-container",children:e.jsxs("div",{className:"discount-wrapper",children:[e.jsx(b,{className:"gift-icon",type:"gift"}),e.jsx("span",{className:"discount-info",children:P("common.yearEnd",{count:((m==null?void 0:m.discount)||0)*100,code:m==null?void 0:m.discountCouponCode})}),e.jsx(Yt,{copyText:m==null?void 0:m.discountCouponCode,children:e.jsx("button",{className:"copy-code-btn",children:P("common.copy")})})]})}),e.jsx("div",{className:"product-container",children:e.jsx(Ft,{products:h,priceStatus:s,trialStatus:n,isLoading:r,proType:T,onBeforePay:I})})]})};const qt=o=>{const{open:a,provider:s,providers:n,onCancel:r,onPayProviderChange:i,onConfirmPay:I}=o,{t:d}=ae(),P=m=>{i==null||i(m.target.value)};return e.jsxs(je,{wrapClassName:"choose-pay-modal",centered:!0,width:400,open:a,footer:null,closeIcon:e.jsx(b,{className:"close-icon",type:"modalClose"}),styles:{mask:{backgroundColor:"rgba(0, 0, 0, 0.88)"}},onCancel:r,children:[e.jsxs("div",{className:"choose-header",children:[e.jsx("h1",{className:"choose-header-title",children:d("common.subscribeToPro")}),e.jsx("span",{className:"choose-header-sub-title",children:d("common.paymentMethod")})]}),e.jsx("div",{className:"choose-content",children:e.jsx(O.Group,{onChange:P,value:s,children:n.map(m=>e.jsx(O,{value:m,children:e.jsxs("div",{className:"option-item",children:[e.jsx("span",{children:Be[m]}),e.jsx(b,{type:Be[m]})]})},m))})}),e.jsx("div",{className:"choose-bottom",children:e.jsx("button",{onClick:I,children:d("common.confirmAndPay")})})]})},{VITE_APP_NAME:Qt,VITE_APP_FASTSPRING_FRONT_URL:$t}={VITE_APP_GA_TRACKING_ID:"G-GCNH5GGHBR",VITE_APP_GA_ADS_ID_OLD:"AW-11272106486",VITE_APP_TITLE:"PopAi",VITE_APP_IMAGE:"https://popaife.s3.ap-southeast-1.amazonaws.com/logo/popai-logo.svg",VITE_APP_GOOGLE_CLIENT_ID:"476681674934-g02u1qr1jh8apjj4d9t725t9t6mdkkqb.apps.googleusercontent.com",VITE_APP_APPLE_CLIENT_ID:"com.popai.chatsign.web",VITE_APP_TPL_PREVIEW_BASE_URL:"https://api.popai.pro",VITE_APP_FASTSPRING_FRONT_URL:"popaipro.onfastspring.com/popup-popaipro",VITE_APP_STRIPE_PUBLISH_KEY:"pk_live_51NEOwrLv0OqyBAuocZl621IpfBDzEDoYKz5QrmzX1Rtp72tW41UYPwYnwaXQIHb4BSqSkoENNLA6f6sKM49SQCp7009cPHNGoe",VITE_APP_UPLOAD_IMAGE_BUCKET:"popai-file",VITE_APP_VF_DM_PROJECT_ID:"65688545d14f4f0007f71bdf",VITE_APP_VF_DM_PROJECT_ID_AR:"65e6f0a2905ec742d67e63a7",VITE_APP_AID:"32013",VITE_APP_PRODUCT_NAME:"popai",VITE_APP_APP_NAME:"popai-web",VITE_APP_NAME:"production",VITE_APP_HOST:"https://www.popai.pro",VITE_APP_API_PROXY:"https://api.popai.pro",VITE_APP_BASE_URL:"https://api.popai.pro",VITE_APP_DOMAIN:".popai.pro",VITE_APP_ANALYSIS_BASE_URL:"https://ug.popai.pro",VITE_APP_GA_ADS_ID_NEW:"AW-11283983651",VITE_APP_ANALYSIS_ID:"12",VITE_APP_META_PIXEL_ID1:"1693476791126527",VITE_APP_META_PIXEL_ID2:"3290089001281844",VITE_APP_META_PIXEL_ID3:"1261230351232091",VITE_APP_META_PIXEL_ID4:"680298653708319",VITE_APP_BING_UET_TAG_ID:"343087646",VITE_APP_TWITTER_PIXEL_ID:"ogygr",VITE_APP_TWITTER_PIXEL_ID1:"oi1kw",VITE_APP_LINKEDIN_ID:"5431082",VITE_APP_CHROME_PLUGIN_REDIRECT_URI:"https://www.popai.pro",VITE_APP_CHROME_PLUGIN_ID:"jaaajddkaoldkiajncgakhmogoboijoo",VITE_APP_ALIFE_PID:"bv3hiie0te@b0077a65ecc9738",VITE_APP_PROMO_URL:"https://promo.popai.pro",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1},zt="SubscribeYearSuccess",Wt="SubscribeMonthSuccess",Xt="SubscribeYearFail",Kt="SubscribeMonthFail",Jt=o=>{const{open:a,shortMessage:s,onClose:n,paySuccess:r}=o,{sendEvent:i}=ue(),{userInfo:I,setDiscountInfo:d}=de(),{fetchUsagesInfo:P}=un(),{fetchUserInfo:m}=ca(),{message:p}=Je.useApp(),{t:l}=ae(),[T,A]=t.useState(!1),[F,D]=t.useState([]),[L,c]=t.useState(),[M,G]=t.useState(He.Default),[h,C]=t.useState(_e.Stripe),[f,x]=t.useState({}),[N,H]=t.useState(!1),[$,w]=t.useState([]),q=t.useRef(""),K=t.useRef(!0),S=t.useRef(0),se=async()=>{var _;try{const V=await tn();d((_=V.data)==null?void 0:_.discountCoupon)}catch(V){d(null),console.error(V)}},le=(_,V,k)=>{const R=_?k?zt:Wt:k?Xt:Kt;let X;k?V.includes("unlimited")?X=E.YearUnlimited:V.includes("proplus")?X=E.YearProPlus:X=E.YearPro:V.includes("unlimited")?X=E.MonthUnlimited:V.includes("proplus")?X=E.MonthProPlus:X=E.MonthPro,(S==null?void 0:S.current)==re.Pro&&X==E.YearPro||(S==null?void 0:S.current)==re.ProAndUnlimit&&[E.YearPro,E.YearUnlimited].includes(X)||(i(R,{productId:V,provider:Be[_e.Fastspring],productType:We[X]}),_&&(i(sn[X]),i("NewPay_success_status"))),(S==null?void 0:S.current)==re.Pro&&X==E.YearPro&&(_?i("Freetrialsuccess",{type:"Pro"}):i("Freetrialcancle",{type:"Pro"})),(S==null?void 0:S.current)==re.ProAndUnlimit&&[E.YearPro,E.YearUnlimited].includes(X)&&(_?i("Freetrialsuccess",{type:X==E.YearPro?"Pro":"Unlimite"}):i("Freetrialcancle",{type:X==E.YearPro?"Pro":"Unlimite"}))},Ee=async _=>{var R,X,Le;const V=(X=(R=_==null?void 0:_.items)==null?void 0:R[0])==null?void 0:X.product,k=V==null?void 0:V.includes("annually");try{await ds(_);let ce=0;if(k&&(V.includes("unlimited")?ce=E.YearUnlimited:V.includes("proplus")?ce=E.YearProPlus:ce=E.YearPro),(S==null?void 0:S.current)==re.Pro&&ce==E.YearPro||(S==null?void 0:S.current)==re.ProAndUnlimit&&[E.YearPro,E.YearUnlimited].includes(ce))try{const oe=await us({subscriptionId:(Le=_==null?void 0:_.items)==null?void 0:Le[0].subscription});oe.data&&(q.current=oe.data)}catch(oe){console.log(oe)}le(!0,V,k),fe(!0),H(!1),x({}),ge(()=>import("./animations-4d36e832.js"),["assets/animations-4d36e832.js","assets/lt-vendor-6239e4ea.js","assets/__commonjsHelpers__-de833af9.js"]).then(async oe=>{var Ne;const Ae=await ge(()=>import("./pay-success-36ea75fa.js"),[]);Ae!=null&&Ae.default&&((Ne=oe==null?void 0:oe.showLottieAnimation)==null||Ne.call(oe,{animationData:Ae==null?void 0:Ae.default}))})}catch(ce){console.error(ce),le(!1,V,k)}},Pe=async _=>{var k;i("Fastspring_closed",{callbackData:_}),await m();const{userInfo:V}=de.getState();(k=V==null?void 0:V.parsedRoles)!=null&&k.includes("Trail")&&r(q.current)},me=async(_,V)=>{i("Fastspring_error",{errorCode:_,errorReason:V})},pe=()=>{const _="fsc-api";if(!document.getElementById(_)){const k=$t,R=document.createElement("script");R.type="text/javascript",R.id=_,R.src="https://sbl.onfastspring.com/sbl/0.9.5/fastspring-builder.min.js",R.dataset.storefront=k,window.fastSpringCallBack=Ee,window.fastSpringClosedCallBack=Pe,window.fastSpringErrorCallBack=me,R.setAttribute("data-popup-webhook-received","fastSpringCallBack"),R.setAttribute("data-popup-closed","fastSpringClosedCallBack"),R.setAttribute("data-error-callback","fastSpringErrorCallBack"),["development","boe"].includes(Qt)&&R.setAttribute("data-debug","true"),document.body.appendChild(R)}},fe=async _=>{_&&await Promise.all([m(),P()]),n==null||n()},he=async(_=!1)=>{await m(),de.getState().userInfo.isPro?p.open({content:e.jsx(we,{icon:"error",content:l("common.aMember")})}):y(_)},B=async()=>{var _,V,k;A(!0);try{const R=await ps();K!=null&&K.current&&(K.current=!1),D((_=R==null?void 0:R.data)==null?void 0:_.productVOS),c((V=R==null?void 0:R.data)==null?void 0:V.priceStatus),S.current=R.data.trialStatus,G((k=R==null?void 0:R.data)==null?void 0:k.status)}catch(R){console.log(R),fe()}finally{A(!1),i("Alltriggerpay")}},Y=t.useMemo(()=>F.some(_=>[E.YearProPlus,E.MonthProPlus].includes(_.membership.membershipId)),[F]),J=t.useMemo(()=>(K==null?void 0:K.current)&&T,[T]),te=()=>{i("Closesubscribe"),S!=null&&S.current&&i("Closefreetrial"),fe()},Ie=_=>We[_.membershipId],v=_=>M===He.Stripe?_==null?void 0:_.productIds[_e.Stripe]:M===He.Fastspring?_==null?void 0:_.productIds[_e.Fastspring]:h===_e.Paypal?_==null?void 0:_.productIds[_e.Fastspring]:_==null?void 0:_.productIds[h],g=async()=>{try{const{product:_,subType:V}=f,{price:k,productPriceText:R}=_,X=Ie(_),Le=v(_),ce=V==="year"&&((S==null?void 0:S.current)===re.Pro&&[E.YearPro].includes(_==null?void 0:_.membershipId)||(S==null?void 0:S.current)==re.ProAndUnlimit&&[E.YearPro,E.YearUnlimited].includes(_==null?void 0:_.membershipId)),Ye="".concat(location.origin).concat(location.pathname,"?stripeSubType=").concat(V,"&productType=").concat(X),oe=ce?"".concat(Ye,"&productYearPrice=").concat(encodeURIComponent(""+R+k)):Ye,Ae=ce?lt:ct,Ne={successUrl:encodeURIComponent("".concat(oe,"&stripeStatus=success")),cancelUrl:encodeURIComponent("".concat(oe,"&stripeStatus=cancel")),productId:Le};ce&&(Ne.days=7);const ra=await Ae(Ne);location.href=ra.data}catch(_){console.error(_)}},y=async(_=!1)=>{const{product:V}=f,k=v(V);if(window.fastspring.builder.tag("uid",I==null?void 0:I.uid,R=>{var X;(X=R==null?void 0:R.tags)!=null&&X.uid||i("Fastspring_loseuid")}),_)window.fastspring.builder.add(k),window.fastspring.builder.payment("paypal");else{const R={checkout:!0,products:[{path:k,quantity:1}],paymentContact:{email:I.email},language:navigator.language};window.fastspring.builder.push(R)}},W=()=>{H(!1),C(_e.Stripe),i("ClosePaymethod")},ne=_=>{x(_),i("Clicksubscribe",{productType:Ie(_.product)}),S!=null&&S.current&&_.subType==="year"&&((S==null?void 0:S.current)===re.Pro&&_.product.productType===z.Pro&&i("Subscribefreetrial",{type:_.product.productType}),(S==null?void 0:S.current)===re.ProAndUnlimit&&[z.Pro,z.Unlimited].includes(_.product.productType)&&i("Subscribefreetrial",{type:_.product.productType}))},ie=async()=>{h===_e.Paypal&&await he(!0),h===_e.Fastspring&&await he(),h===_e.Stripe&&await g();const _=v(f==null?void 0:f.product);i("Choosepaymethod",{paymethod:Be[h],productId:_})};return t.useEffect(()=>{N&&i("Paymethodpop-up")},[N]),t.useEffect(()=>{const _=async()=>{se(),await B()},V=async()=>{try{const k=await rs();w(k.data)}catch(k){console.error(k)}};a&&(pe(),_(),V())},[a]),t.useEffect(()=>{const _=async()=>{M===He.Stripe?g():M===He.Fastspring?await he():H(!0)};Qs(f)||_()},[f]),e.jsxs(je,{wrapClassName:"new-pay-modal",centered:!0,width:Y?1294:1067,open:a,footer:null,styles:{mask:{backgroundColor:"rgba(0, 0, 0, 0.88)"}},onCancel:te,closeIcon:e.jsx(b,{className:"close-icon",type:"payClose"}),maskClosable:!1,zIndex:1031,keyboard:!1,destroyOnClose:!0,children:[e.jsx(Ht,{products:F,priceStatus:L,trialStatus:S==null?void 0:S.current,isLoading:J,shortMessage:s,onBeforePay:ne}),e.jsx(qt,{open:N,provider:h,providers:$,onPayProviderChange:C,onConfirmPay:ie,onCancel:W})]})},Zt="/assets/billing-free-82e0885c.png",eo="/assets/billing-pro-969286b8.png",ao="/assets/billing-proplus-89820c63.png",no="/assets/billing-unlimited-66fa9bbe.png",so="/assets/billing-cancel-confirmation-41ffe909.png",to="/assets/billing-cancel-success-0173f2c4.png";const{TextArea:Ve}=Aa,Ua="billingCancelQuestionaire",oo="freetrialCancelQuestionaire",io=o=>{var l;const{userInfo:a}=de(),{sendEvent:s}=ue(),{t:n}=ae(),[r,i]=t.useState(!1),[I]=ee.useForm(),d=[{required:!0,message:n("layout.billingManage.verticalRules")}],P=(l=a==null?void 0:a.parsedRoles)==null?void 0:l.includes("Trail"),m=async T=>{s("Submitquestionnaire"),P&&s("Submitfree-trialquestion");try{i(!0),await gs({feedback:JSON.stringify({id:P?oo:Ua,...T}),subscriptionId:o.billingDetail.subscriptionId}),i(!1),o.handleNext()}catch(A){console.error(A)}},p=()=>{s("Canclequestionnaire"),P&&s("Canclefree-trialquestion"),o.handlePre()};return e.jsxs("div",{className:"billingCancelQuestionaire",children:[e.jsx("button",{onClick:p,className:"billingCancelQuestionaire-leftArrow",children:e.jsx(b,{type:"leftArrow"})}),e.jsx("div",{className:"billingCancelQuestionaire-title",children:e.jsx("span",{children:n(P?"layout.billingManage.freeTrailCancelQuestionaireTitle":"layout.billingManage.cancelQuestionaireTitle")})}),e.jsxs("div",{className:"billingCancelQuestionaire-content",children:[e.jsx("div",{className:"billingCancelQuestionaire-content-des",children:n("layout.billingManage.cancelQuestionaireContent")}),e.jsxs(ee,{name:Ua,form:I,layout:"vertical",className:"billingCancelQuestionaire-content-form",requiredMark:!1,scrollToFirstError:!0,onFinish:m,children:[e.jsx(ee.Item,{label:n("layout.billingManage.Q1verticalLabel"),name:"q1",rules:d,children:e.jsx(O.Group,{children:e.jsxs(ve,{direction:"vertical",children:[e.jsxs(O,{value:"a",children:[" a.",n("layout.billingManage.Q1verticalA")]}),e.jsxs(O,{value:"b",children:[" b.",n("layout.billingManage.Q1verticalB")]}),e.jsxs(O,{value:"c",children:[" c.",n("layout.billingManage.Q1verticalC")]}),e.jsxs(O,{value:"d",children:[" d.",n("layout.billingManage.Q1verticalD")]}),e.jsx(ee.Item,{noStyle:!0,shouldUpdate:(T,A)=>T.q1!==A.q1,children:({getFieldValue:T})=>T("q1")==="d"?e.jsx(ee.Item,{name:"q1-d",className:"billingCancelQuestionaire-content-form-innerItem",rules:d,children:e.jsx(Ve,{placeholder:n("layout.billingManage.verticalPlaceholder")})}):null}),e.jsxs(O,{value:"e",children:[" e.",n("layout.billingManage.Q1verticalE")]}),e.jsx(ee.Item,{noStyle:!0,shouldUpdate:(T,A)=>T.q1!==A.q1,children:({getFieldValue:T})=>T("q1")==="e"?e.jsx(ee.Item,{name:"q1-e",className:"billingCancelQuestionaire-content-form-innerItem",rules:d,children:e.jsx(Ve,{placeholder:n("layout.billingManage.verticalPlaceholder")})}):null}),e.jsxs(O,{value:"f",children:[" f.",n("layout.billingManage.Q1verticalF")]}),e.jsx(ee.Item,{noStyle:!0,shouldUpdate:(T,A)=>T.q1!==A.q1,children:({getFieldValue:T})=>T("q1")==="f"?e.jsx(ee.Item,{name:"q1-f",className:"billingCancelQuestionaire-content-form-innerItem",rules:d,children:e.jsx(Ve,{placeholder:n("layout.billingManage.verticalPlaceholder")})}):null}),e.jsxs(O,{value:"g",children:[" g.",n("layout.billingManage.Q1verticalG")]}),e.jsxs(O,{value:"h",children:[" h.",n("layout.billingManage.Q1verticalH")]}),e.jsx(ee.Item,{noStyle:!0,shouldUpdate:(T,A)=>T.q1!==A.q1,children:({getFieldValue:T})=>T("q1")==="h"?e.jsx(ee.Item,{name:"q1-h",className:"billingCancelQuestionaire-content-form-innerItem",rules:d,children:e.jsx(Ve,{placeholder:n("layout.billingManage.verticalPlaceholder")})}):null})]})})}),P?null:e.jsxs(e.Fragment,{children:[e.jsx(ee.Item,{label:n("layout.billingManage.Q2verticalLabel"),name:"q2",rules:d,children:e.jsx(O.Group,{children:e.jsxs(ve,{direction:"vertical",children:[e.jsxs(O,{value:"a",children:[" a.",n("layout.billingManage.Q2verticalA")]}),e.jsxs(O,{value:"b",children:[" b.",n("layout.billingManage.Q2verticalB")]}),e.jsxs(O,{value:"c",children:[" c.",n("layout.billingManage.Q2verticalC")]}),e.jsxs(O,{value:"d",children:[" d.",n("layout.billingManage.Q2verticalD")]})]})})}),e.jsx(ee.Item,{label:n("layout.billingManage.Q3verticalLabel"),name:"q3",rules:d,children:e.jsx(O.Group,{children:e.jsxs(ve,{direction:"vertical",children:[e.jsxs(O,{value:"a",children:[" a.",n("layout.billingManage.Q3verticalA")]}),e.jsxs(O,{value:"b",children:[" b.",n("layout.billingManage.Q3verticalB")]}),e.jsxs(O,{value:"c",children:[" c.",n("layout.billingManage.Q3verticalC")]}),e.jsxs(O,{value:"d",children:[" d.",n("layout.billingManage.Q3verticalD")]}),e.jsxs(O,{value:"e",children:[" e.",n("layout.billingManage.Q3verticalE")]})]})})}),e.jsx(ee.Item,{label:n("layout.billingManage.Q4verticalLabel"),name:"q4",rules:d,children:e.jsx(O.Group,{children:e.jsxs(ve,{direction:"vertical",children:[e.jsxs(O,{value:"a",children:[" a.",n("layout.billingManage.Q4verticalA")]}),e.jsxs(O,{value:"b",children:[" b.",n("layout.billingManage.Q4verticalB")]}),e.jsxs(O,{value:"c",children:[" c.",n("layout.billingManage.Q4verticalC")]}),e.jsxs(O,{value:"d",children:[" d.",n("layout.billingManage.Q4verticalD")]}),e.jsxs(O,{value:"e",children:[" e.",n("layout.billingManage.Q4verticalE")]}),e.jsx(ee.Item,{noStyle:!0,shouldUpdate:(T,A)=>T.q4!==A.q4,children:({getFieldValue:T})=>T("q4")==="e"?e.jsx(ee.Item,{name:"q4-e",className:"billingCancelQuestionaire-content-form-innerItem",rules:d,children:e.jsx(Ve,{placeholder:n("layout.billingManage.verticalPlaceholder")})}):null})]})})}),e.jsx(ee.Item,{label:n("layout.billingManage.Q5verticalLabel"),name:"q5",rules:d,children:e.jsx(O.Group,{children:e.jsxs(ve,{direction:"vertical",children:[e.jsxs(O,{value:"a",children:[" a.",n("layout.billingManage.Q5verticalA")]}),e.jsxs(O,{value:"b",children:[" b.",n("layout.billingManage.Q5verticalB")]})]})})}),e.jsx(ee.Item,{label:n("layout.billingManage.Q6verticalLabel"),name:"q6",rules:d,children:e.jsx(O.Group,{children:e.jsxs(ve,{direction:"vertical",children:[e.jsxs(O,{value:"a",children:[" a.",n("layout.billingManage.Q6verticalA")]}),e.jsxs(O,{value:"b",children:[" b.",n("layout.billingManage.Q6verticalB")]}),e.jsxs(O,{value:"c",children:[" c.",n("layout.billingManage.Q6verticalC")]}),e.jsxs(O,{value:"d",children:[" d.",n("layout.billingManage.Q6verticalD")]})]})})})]}),P?e.jsx(ee.Item,{label:n("layout.billingManage.Q2FreeTrailVerticalLabel"),name:"q2",rules:d,children:e.jsx(Ve,{placeholder:n("layout.billingManage.verticalPlaceholder")})}):e.jsx(ee.Item,{label:n("layout.billingManage.Q7verticalLabel"),name:"q7",rules:d,children:e.jsx(Ve,{placeholder:n("layout.billingManage.verticalPlaceholder")})}),e.jsx(ee.Item,{children:e.jsxs(ye,{className:"questionaire-btn",loading:r,type:"primary",htmlType:"submit",children:[n("common.submit"),e.jsx(b,{type:"rightArrowPlus"})]})})]})]})]})},Ia=356,lo=532;function Oa(o){return o!==void 0?(o/100).toFixed(1):""}function co(o){return o?o[0]+o.slice(1).toLocaleLowerCase():""}const ro=o=>{var Ie;const{userInfo:a}=de(),{sendEvent:s}=ue(),{fetchUserInfo:n}=ca(),[r,i]=t.useState(!0),[I,d]=t.useState(),[P,m]=t.useState(Ia),[p,l]=t.useState(),[T,A]=t.useState(1),[F,D]=t.useState(!1),[L,c]=t.useState([]),[M,G]=t.useState(""),{t:h}=ae(),C=(Ie=a==null?void 0:a.parsedRoles)==null?void 0:Ie.includes("Trail"),f={[E.MonthPro]:["Pro",h("layout.billingManage.Monthly"),h("layout.billingManage.mo"),""],[E.YearPro]:["Pro",h("layout.billingManage.Annually"),h("layout.billingManage.yr"),h("layout.billingManage.Proannually")],[E.MonthProPlus]:["Pro+",h("layout.billingManage.Monthly"),h("layout.billingManage.mo"),h("layout.billingManage.pro_add_monthly")],[E.YearProPlus]:["Pro+",h("layout.billingManage.Annually"),h("layout.billingManage.yr"),h("layout.billingManage.pro_add_annually")],[E.MonthUnlimited]:[h("layout.billingManage.Unlimited"),h("layout.billingManage.Monthly"),h("layout.billingManage.mo"),"unlimitedmonthly"],[E.YearUnlimited]:[h("layout.billingManage.Unlimited"),h("layout.billingManage.Annually"),h("layout.billingManage.yr"),"unlimitedannually"]};t.useEffect(()=>{o.open?o.showUpgrade?se():K():(i(!0),m(Ia),l(void 0),d(void 0),A(1))},[o.open]),t.useEffect(()=>{T===3||T===4?(m(lo),d(null)):(m(Ia),d(void 0))},[T]);const x=()=>{A(T+1)},N=()=>{A(T-1)},H=()=>{s("Cancelsubscription"),C&&s("Cancelfree-trial"),x()},$=()=>{s("Notcancelsubscription"),C&&s("Notcancelfree-trial"),N()},w=()=>{s("Gocancelsubscription"),C&&s("Gocancelfree-trial"),x()},q=()=>{T===2&&(s("Closecancelsubscription"),C&&s("Closecancelfree-trial")),D(!1),s("CloseUpgradeversion"),o.onClose()},K=async()=>{try{i(!0);const v=await ms();l(v.data),i(!1),v.data.membershipId===E.Free?s("Freemanagerbilling"):s("Promanagerbilling")}catch(v){console.error(v)}},S=async()=>{let v;try{a.stripeCustomer?v=await pt({customer:a.stripeCustomer,callbackUrl:window.location.href}):a.fastspringCustomer&&(v=await gt({accountId:a.fastspringCustomer})),v!=null&&v.data&&window.open(v.data)}catch(g){console.error(g)}a.isPro?s("ViewOrderHistory",{pro:!0}):s("ViewOrderHistory",{free:!0})},se=async()=>{try{i(!0);const v=await rt(),g=v==null?void 0:v.data;c(g),D(!0),g.length&&G(g[0].productIds),i(!1)}catch(v){console.log(v),_a.open({content:e.jsx(we,{icon:"error",content:h("common.networkError")})})}},le=async()=>{if(!M)return;const v=L.find(W=>W.productIds===M);s("Upgradeversion",{upgradeType:f[v.membershipId][3]});const g={productId:M,subscription:v==null?void 0:v.subscription},y=await dt(g);(y==null?void 0:y.code)===200?(D(!1),K(),await n(),setTimeout(async()=>{await n()},5e3),_a.open({content:e.jsx(we,{icon:"success",content:h("common.upgradeSuccessful")})})):_a.open({content:e.jsx(we,{icon:"error",content:h("common.payment")})})},Ee=t.useCallback($s(le,2e3,{leading:!0,trailing:!1}),[M]),Pe=()=>{s("UpgradeManagerbilling"),o.onUpgrade()},me={Month:h("layout.billingManage.mo"),Year:h("layout.billingManage.yr")},pe=()=>p?e.jsxs("div",{className:"billingManage-modal-content",children:[e.jsx("div",{className:"billingManage-modal-content-img",children:e.jsx("img",{width:"238",src:Zt})}),e.jsxs("div",{className:"billingManage-modal-content-planName",children:[e.jsxs("span",{children:["$",Oa(p==null?void 0:p.price)]}),e.jsxs("span",{children:["/",me[p.subscriptionInterval]]})]}),e.jsx("div",{className:"billingManage-modal-content-btn billingManage-modal-content-upgrade-btn",onClick:Pe,children:h("layout.billingManage.upgradeToPro")}),e.jsx("div",{className:"billingManage-modal-content-toDetail billingManage-modal-content-toDetail-mb",children:e.jsx("span",{onClick:S,children:h("layout.billingManage.viewOrderDetails")})})]}):null,fe=()=>{s("Upgradeplanversion"),se()},he=()=>{var ie,_;if(!p)return null;const v={end:h("layout.billingManage.Next_renewal_date"),endIcon:"nextRenewal",btnText:h("layout.billingManage.cancelSubscription"),btndisabled:!1},g={end:h("layout.billingManage.Plan_Ends_On"),endIcon:"lockTime",btnText:h("layout.billingManage.Subscription_cancelled"),btndisabled:!0},y=p!=null&&p.canceled?g:v,W=[E.MonthUnlimited,E.YearUnlimited].includes(p==null?void 0:p.membershipId),ne=[E.MonthProPlus,E.YearProPlus].includes(p==null?void 0:p.membershipId);return e.jsxs("div",{className:"billingManage-modal-content",children:[e.jsx("div",{className:"billingManage-modal-content-img",children:e.jsx("img",{width:"238",src:W?no:ne?ao:eo})}),C?e.jsx("div",{className:"billingManage-modal-content-planName",children:e.jsx("span",{children:h("layout.billingManage.freeTrial")})}):e.jsxs("div",{className:"billingManage-modal-content-planName",children:[e.jsxs("span",{children:["$",Oa(p==null?void 0:p.price)]}),e.jsxs("span",{children:["/",me[p.subscriptionInterval]]})]}),e.jsxs("div",{className:"billingManage-modal-content-cancel-detail",children:[e.jsxs("div",{className:"billingManage-modal-content-cancel-detail-item",children:[e.jsx(b,{type:"bankCard"}),e.jsx("span",{children:h("layout.billingManage.paymentMethod")}),e.jsx("span",{children:co(p==null?void 0:p.provider)})]}),e.jsxs("div",{className:"billingManage-modal-content-cancel-detail-item",children:[e.jsx(b,{type:"orderTime"}),e.jsxs("span",{children:[h("layout.billingManage.orderTime")," "]}),e.jsx("span",{children:(ie=Se(p==null?void 0:p.currentPeriodStart))==null?void 0:ie.format("YYYY-MM-DD")})]}),e.jsxs("div",{className:"billingManage-modal-content-cancel-detail-item",children:[e.jsx(b,{type:y.endIcon}),e.jsxs("span",{children:[y.end,": "]}),e.jsx("span",{children:(_=Se(p==null?void 0:p.currentPeriodEnd))==null?void 0:_.format("YYYY-MM-DD")})]})]}),(p==null?void 0:p.membershipId)===E.YearUnlimited||C?e.jsx("div",{className:"billingManage-modal-content-upgrade-placeholder"}):e.jsx("div",{className:"billingManage-modal-content-upgrade",onClick:fe,children:h("layout.billingManage.UpgradeVersion")}),e.jsx("div",{className:"billingManage-modal-content-toDetail",children:e.jsx("span",{onClick:S,children:h("layout.billingManage.viewOrderDetails")})}),e.jsx("div",{className:"billingManage-modal-content-btn",children:e.jsx(ye,{type:"link",className:"cancel-subscription-btn",disabled:y.btndisabled,onClick:H,children:y.btnText})})]})},B=()=>e.jsxs("div",{className:"billingManage-modal-content",children:[e.jsx("div",{className:"billingManage-modal-content-img",children:e.jsx("img",{width:"292",src:so})}),e.jsx("div",{className:"billingManage-modal-content-cancelConfirmation-title",children:h("layout.billingManage.Leaving_soon")}),e.jsx("div",{className:"billingManage-modal-content-cancelConfirmation-des",children:h(C?"layout.billingManage.freeTrialCancelConfirmation_des":"layout.billingManage.cancelConfirmation_des")}),e.jsxs("div",{className:"billingManage-modal-content-btn billingManage-modal-content-cancelConfirmation-btn",children:[e.jsx(ye,{className:"chat-btn",onClick:$,children:h("common.back")}),e.jsxs(ye,{className:"chat-btn",onClick:w,children:[h("common.confirm")," & ",h("common.cancel")]})]})]}),Y=()=>{var v,g,y;return e.jsxs("div",{className:"billingManage-modal-content-cancelSuccess",children:[e.jsx("div",{className:"billingManage-modal-content-cancelSuccess-img",children:e.jsx("img",{width:"116",src:to})}),e.jsx("div",{className:"billingManage-modal-content-cancelSuccess-title",children:(v=a==null?void 0:a.parsedRoles)!=null&&v.includes("Trail")?h("layout.billingManage.freeTrialSubscription"):h("layout.billingManage.yourSubscription")}),e.jsx("div",{className:"billingManage-modal-content-cancelSuccess-des",children:(g=a==null?void 0:a.parsedRoles)!=null&&g.includes("Trail")?h("layout.billingManage.freeTrialThank_you")+" ".concat((y=Se(p==null?void 0:p.currentPeriodEnd))==null?void 0:y.format("MM/DD/YYYY"),"."):h("layout.billingManage.Thank_you")}),e.jsx("div",{className:"billingManage-modal-content-cancelSuccess-btn",children:e.jsx(ye,{onClick:o.onClose,className:"chat-btn",children:h("layout.billingManage.Got_It")})})]})},J=()=>e.jsxs("div",{className:"upgrade-plan",children:[e.jsx("div",{className:"upgrade-plan-title",children:h("layout.billingManage.Select_upgrade_plan")}),e.jsxs("div",{className:"upgrade-plan-desc",children:[" ",h("layout.billingManage.Select_upgrade_plan_decs")]}),e.jsx("div",{className:"upgrade-plan-content",children:!!L.length&&L.map((v,g)=>{var y;return e.jsxs("div",{className:U({"upgrade-plan-content-item":!0,"upgrade-plan-content-item-checked":M===v.productIds}),onClick:()=>G(v.productIds),children:[e.jsxs("div",{className:"upgrade-plan-content-item-header",children:[e.jsxs("div",{className:"upgrade-plan-content-item-header-left",children:[e.jsx("div",{className:"upgrade-plan-content-item-header-left-membership",children:f[v.membershipId][0]}),e.jsxs("div",{className:U({"upgrade-plan-content-item-header-left-time":!0,"upgrade-plan-content-item-header-left-rel":!(v!=null&&v.discount)}),children:[e.jsx("span",{children:f[v.membershipId][1]}),!!(v!=null&&v.discount)&&e.jsx("div",{className:"discount",children:e.jsxs("div",{className:"discount-text",children:["-",v==null?void 0:v.discount,"%"]})})]})]}),e.jsxs("div",{className:"upgrade-plan-content-item-header-right",children:[e.jsxs("span",{className:"upgrade-plan-content-item-header-right-price",children:[e.jsx("span",{className:"upgrade-plan-content-item-header-right-price-symbol",children:v.symbol}),v.discountAmount.toFixed(v.decimalPlaces>0?1:0)]}),e.jsxs("span",{className:"upgrade-plan-content-item-header-right-unit",children:["/",f[v.membershipId][2]]}),M===v.productIds?e.jsx(ut,{className:"upgrade-plan-content-item-header-right-checked",checked:!0}):e.jsx("div",{className:"upgrade-plan-content-item-header-right-uncheck"})]})]}),e.jsxs("div",{className:"upgrade-plan-content-item-main",children:[e.jsx("div",{className:"upgrade-plan-content-item-main-desc",children:v.greyDetails}),M===v.productIds&&((y=v==null?void 0:v.colorDetails)==null?void 0:y.length)>0&&v.colorDetails.map((W,ne)=>e.jsxs("div",{className:"upgrade-plan-content-item-main-permission",children:[" ",e.jsx("span",{children:W})]},ne)),M===v.productIds&&e.jsxs("div",{className:"upgrade-plan-content-item-main-tip",children:[e.jsx(b,{className:"upgrade-plan-content-item-main-tip-icon",type:"tip"}),e.jsxs("div",{className:"upgrade-plan-content-item-main-tip-text",children:[h("layout.billingManage.Select_upgrade_plan_time_for")," ",e.jsxs("span",{children:[v.symbol,v==null?void 0:v.remainAmount,"."]})," ",h("layout.billingManage.Select_upgrade_next")]})]})]})]},g)})}),e.jsx("div",{className:"upgrade-plan-btn",onClick:Ee,children:h("layout.billingManage.Select_upgrade_now")})]}),te=()=>(p==null?void 0:p.membershipId)===E.Free?pe():F?J():T===1?he():T===2?B():T===3?e.jsx(io,{handlePre:N,handleNext:x,billingDetail:p}):Y();return e.jsx(je,{wrapClassName:"billingManage-modal",open:o.open,destroyOnClose:!0,centered:!0,footer:null,width:P,maskClosable:!1,onCancel:q,closeIcon:I,children:e.jsx("div",{className:"billingManage-modal-wrapper",children:r?e.jsx("div",{style:{padding:20},children:e.jsx(ln,{active:!0,style:{marginTop:30},paragraph:{rows:8}})}):te()})})};const uo=o=>{const{checkLoginStatus:a}=o,{t:s}=ae(),n=()=>{a==null||a({type:"signup"})};return e.jsxs("div",{className:"notlogin-wrapper",children:[e.jsx("div",{className:"notlogin-title",children:s("common.Workspace")}),e.jsx("div",{children:e.jsxs("button",{className:"login-btn",onClick:n,children:[s("common.signUp")," /",s("common.logIn")]})})]})};const po=o=>{const{onSubscription:a}=o,{usageInfo:s}=Te(),{userInfo:n}=de(),r={gpt3:hs(Ze(n)),gpt4:"GPT-4"},{t:i}=ae(),I=t.useMemo(()=>n==null?void 0:n.isPro,[n]),d=P=>(P.includes("or")&&(P=P.replace("or",i("layout.usage.or"))),P);return e.jsxs("div",{className:U({"usage-detail":!0,"usage-detail-unlimited":n==null?void 0:n.isUnlimited}),children:[e.jsx("h1",{children:n!=null&&n.isUnlimited?i("layout.usage.unlimitedPlan"):i("layout.usage.Usage")}),n!=null&&n.isUnlimited?e.jsx("div",{className:"unlimited-desc",children:i("layout.usage.enjoyInfinite")}):Object.keys(s).map(P=>{if(!["gpt3","gpt4"].includes(P))return;const{used:m,total:p}=s[P],l=p?m/p*100:0;return e.jsxs("div",{className:"usage-item",children:[e.jsxs("div",{className:"usage-info",children:[e.jsx("div",{className:"usage-label",children:d(r[P])}),e.jsxs("div",{className:"usage-value",children:[m,"/",p," ",i("layout.usage.per")," ",i(I?"layout.usage.month":"layout.usage.day")]})]}),e.jsx("div",{className:"usage-progress",children:e.jsx(ft,{percent:l,showInfo:!1,strokeColor:"#3C38FF",trailColor:"rgba(255, 255, 255, 0.12)",strokeLinecap:"butt",size:"small"})})]},P)}),n.stripeCustomer||n.fastspringCustomer?e.jsx("button",{className:"billing-btn",onClick:()=>a==null?void 0:a(),children:i("layout.usage.manageBilling")}):null]})},go="/assets/empty-dark-3e5c3b68.svg",mo="/assets/empty-light-5a118b0d.png";const ho=o=>{const{record:a,selected:s=!1,skip:n=!1,collapsed:r=!1,onSelect:i,onDelete:I,onEdit:d,onSkip:P}=o,{t:m}=ae(),{sendEvent:p}=ue(),[l,T]=t.useState(!1),[A,F]=t.useState(!1),[D,L]=t.useState(""),c=t.useRef(null);t.useEffect(()=>{A&&p("Deletecon")},[A]);const M=()=>{n||i==null||i(a)},G=async w=>{var K,S,se,le;w==null||w.stopPropagation();const q=((se=(S=(K=c==null?void 0:c.current)==null?void 0:K.input)==null?void 0:S.value)==null?void 0:se.trim())||"";L(q),(q==null?void 0:q.length)===0?(P==null||P(!0),(le=c==null?void 0:c.current)==null||le.focus()):(P==null||P(!1),await(d==null?void 0:d(a==null?void 0:a.channelId,q)),T(!1))},h=w=>{w==null||w.stopPropagation(),I==null||I(a==null?void 0:a.channelId),x(!1)},C=(w,q)=>{w==null||w.stopPropagation(),q||p("Changename"),T(q)},f=w=>{w==null||w.stopPropagation(),(w==null?void 0:w.key)==="Escape"&&T(!1)},x=w=>{F(w)};t.useEffect(()=>{s||T(!1)},[s]),t.useEffect(()=>{L(a==null?void 0:a.channelName)},[a==null?void 0:a.channelName]);const N=()=>{var w;return e.jsx(e.Fragment,{children:(w=a==null?void 0:a.docEntries)!=null&&w.multiDoc?e.jsx("div",{className:"item-icon item-multifile-icon",children:e.jsx(b,{type:"multiFileFolderFilled",className:"multifile-icon"})}):e.jsx("div",{className:U({"item-icon":!0,["item-icon-".concat(a==null?void 0:a.fileTypeEnum)]:a==null?void 0:a.fileTypeEnum})})})};return r?(()=>e.jsxs("li",{className:U({"item-collapsed":!0,"item-collapsed-active":s}),onClick:M,children:[N(),e.jsx("div",{className:"item-title item-title-collapsed",children:e.jsx("h1",{className:"ellipsis",title:a==null?void 0:a.channelName,children:D})})]}))():(()=>e.jsxs("li",{className:U({"item-expanded":!0,"item-expanded-active":s}),onClick:M,children:[N(),e.jsxs("div",{className:"item-title item-title-expanded",children:[l?e.jsx(Aa,{className:"item-input",size:"small",defaultValue:D,ref:c,autoFocus:!0,onPressEnter:G,onKeyUp:f,onBlur:G}):e.jsx("h1",{className:"ellipsis",title:a==null?void 0:a.channelName,children:D}),s&&e.jsx(ve,{size:12,children:l?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"operate-icon",type:"check",onMouseDown:w=>w==null?void 0:w.preventDefault(),onClick:G}),e.jsx("div",{className:U({"operate-icon":!0,close_icon_menu_color:!0}),onMouseDown:w=>w==null?void 0:w.preventDefault(),onClick:w=>C(w,!1),children:e.jsx(It,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"operate-icon",type:"edit",onClick:w=>C(w,!0)}),e.jsx(ta,{overlayClassName:"delete-confirm",trigger:"click",placement:"bottom",color:"#000000",content:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"delete-confirm-title",children:m("layout.history.deleteConversation")}),e.jsxs(ve,{className:"buttons",size:8,children:[e.jsx("button",{onClick:()=>x(!1),children:m("common.cancel")}),e.jsx("button",{onClick:h,children:m("common.delete")})]})]}),open:A,onOpenChange:x,children:e.jsx(b,{className:"operate-icon",type:"delete"})})]})})]})]}))()},Ga=o=>{const{collapsed:a=!1,dataSource:s,loading:n=!1,onSelected:r,onOperationComplete:i}=o,{t:I}=ae(),{message:d}=Je.useApp(),{sendEvent:P}=ue(),{setChannel:m,setMessages:p,setFileAnchor:l,setActiveImageId:T,setMessagesReady:A}=en(),{conversation:F}=Rs(),D=Ke(),L=Ue(),[c,M]=t.useState(!1),G=async x=>{try{await _s({channelId:x}),i==null||i(),d.open({content:e.jsx(we,{icon:"success",content:I("common.delete")})}),D("/".concat(L==null?void 0:L.search)),P("Condeleted")}catch(N){console.log(N)}},h=async(x,N)=>{try{await Ps({channelId:x,channelName:N}),i==null||i(),d.open({content:e.jsx(we,{icon:"success",content:I("common.Saved")})}),P("Namechanged")}catch(H){console.log(H)}},C=x=>{M(x)},f=x=>{F!==(x==null?void 0:x.channelId)&&(m(zs(x,["themeName","slides","outline","sources"])),p([]),A(!1),l({}),D("/chat/".concat(x==null?void 0:x.channelId).concat(L==null?void 0:L.search)),P("Clickchat"),r==null||r(),T(void 0))};return n?e.jsx("div",{className:"list-loading",children:e.jsx(la,{})}):e.jsx("div",{className:U({"chat-list-container":!0,"chat-list-container-expanded":!a,"chat-list-container-collapsed":a,"chat-list-empty":(s==null?void 0:s.length)===0}),children:(s==null?void 0:s.length)>0?e.jsx("ul",{children:s.map(x=>e.jsx(ho,{record:x,selected:F===(x==null?void 0:x.channelId),skip:c,collapsed:a,onSkip:C,onSelect:f,onDelete:G,onEdit:h},x==null?void 0:x.channelId))}):e.jsxs("div",{className:"chat-no-data",children:[e.jsx("img",{src:a?mo:go,alt:"no data"}),e.jsx("div",{className:U({"empty-text":!0,"empty-text-expanded":!a,"empty-text-collapsed":a}),children:I("layout.history.startAI")})]})})};const _o=ia.memo(({isShow:o,onCancel:a,onOk:s})=>{const[n,r]=t.useState(!1),{t:i}=ae(),{sendEvent:I}=ue(),d=()=>{s&&s(),r(!0),I("settings_languages_confirm_click"),localStorage.setItem("isAutoChangeLanguage","true")},P=()=>{a(!1),I("settings_languages_cancel_click")};return e.jsxs(je,{centered:!0,width:400,footer:null,open:o,onCancel:P,children:[e.jsx("p",{className:"settingLanguageSaveTitle",children:i("layout.settingModal.switchLanguage")}),e.jsx("p",{className:"settingLanguageSaveContent",children:i("layout.settingModal.switchLanguageContent")}),e.jsxs("div",{className:"settingLanguageSaveButtonBox",children:[e.jsx("div",{onClick:P,className:U({settingLanguageSaveButton:!0,settingLanguageSaveButtonCancel:!0}),children:i("layout.settingModal.Cancel")}),e.jsx("div",{onClick:d,className:U({settingLanguageSaveButton:!0,settingLanguageSaveButtonChange:!0}),children:n?e.jsx(la,{size:"small"}):i("layout.settingModal.changeLanguage")})]})]})}),Ea=[{title:"languages",key:"languages"}],Po=[{title:"English",key:"en",ar:""},{title:"Arabic",key:"ar",ar:""}],fo=[{title:"coEn",img:"https://popaife.s3-accelerate.amazonaws.com/home-quick-access/language/en.png"},{title:"coAr",img:"https://popaife.s3-accelerate.amazonaws.com/home-quick-access/language/ar.png"}],Io={header:{padding:"12px 24px 4px 24px"},content:{boxShadow:"0 0 30px #999",padding:0}},Eo=ia.memo(({open:o,onClose:a})=>{const[s,n]=t.useState("languages"),{setLanguage:r}=Te(),[i,I]=t.useState(!1),[d,P]=t.useState("en"),{sendEvent:m}=ue(),{i18n:p,t:l}=ae(),T=A=>{P(A),A!==p.resolvedLanguage&&(I(!0),m(A==="ar"?"settings_languages_arabic_click":"settings_languages_default_click"))};return t.useEffect(()=>{o&&(P(Xe.language),r(Xe.language),m("settings_languages_show"))},[o]),e.jsxs(e.Fragment,{children:[e.jsx(je,{open:o,styles:Io,centered:!0,title:l("layout.usersnap.setting"),footer:null,width:800,zIndex:1e3,onCancel:()=>{a(!1)},children:e.jsxs("div",{className:"settingMenuBox",children:[e.jsx("div",{className:"settingMenuLeftBox",children:Ea==null?void 0:Ea.map(A=>e.jsxs("div",{onClick:()=>{n(A.key)},className:U({settingItems:!0,settingCheckItems:s===A.key}),children:[e.jsx(b,{className:U({"dropdown-icon":!0,"dropdown-icon-dir":!0}),type:"translateAr"}),e.jsx("span",{className:"settingMenuLeftBoxTranslateIcon",children:l("layout.settingModal.".concat(A.title))})]},A.key))}),e.jsxs("div",{className:"settingMenuRightBox",children:[e.jsxs("div",{className:"settingRightContent",children:[e.jsxs("div",{className:"settingRightContentLeft",children:[e.jsx("div",{className:"settingRightContentLeftTitlle",children:l("layout.settingModal.Interface_Language")}),e.jsx("div",{className:"settingRightContentLeftContent",children:l("layout.settingModal.content")})]}),e.jsx("div",{className:"settingRightContentRight",children:Po.map(A=>e.jsxs("div",{onClick:()=>T(A.key),className:U({settingRightContentRightLanguage:!0,settingRightContentRightLanguageCheck:p.resolvedLanguage===A.key}),children:[e.jsx("div",{className:"settingRightContentRightLanguageTitle",children:A.title}),e.jsx("div",{className:"settingRightContentRightLanguageContent",children:A.ar}),e.jsx("div",{className:U({settingRightContentRightLanguageIcon:!0,settingRightContentRightLanguageIconCheck:p.resolvedLanguage===A.key}),children:p.resolvedLanguage===A.key&&e.jsx(Et,{})})]},A.key))})]}),e.jsx("div",{className:"settingLanguageExample",children:fo.map(A=>e.jsxs("div",{children:[e.jsx("div",{className:"exampleTitle",children:l("layout.settingModal.".concat(A.title))}),e.jsx("img",{src:A.img,className:"exampleImg"})]},A.title))})]})]})}),e.jsx(_o,{isShow:i,onCancel:I,onOk:()=>{p.changeLanguage(d),r(d),window.location.reload()}})]})}),Ao=ia.memo(({isShow:o,setIsShow:a})=>{const[s,n]=t.useState(!1),{setLanguage:r}=Te(),{i18n:i}=ae(),{sendEvent:I}=ue(),d=()=>{n(!0),localStorage.setItem("isAutoChangeLanguage","true"),i.changeLanguage("ar"),r("ar"),window.location.reload(),I("arabic_languages_confirm_click")},P=()=>{localStorage.setItem("isAutoChangeLanguage","true"),a(!1),I("arabic_languages_cancel_click")};return t.useEffect(()=>{I("arabic_languages_show")},[]),e.jsxs(je,{centered:!0,width:440,footer:null,open:o,onCancel:P,children:[e.jsx("p",{className:"settingLanguageSaveTitle",children:"Arabic Version Now Available"}),e.jsx("p",{className:"settingLanguageSaveContent",children:"Switching to the Arabic version, PopAi's interfacewill be displayed in RTL(Right-To-Left) mode, andthe interface language will change to Arabic."}),e.jsxs("div",{className:"settingLanguageSaveButtonBox",children:[e.jsx("div",{onClick:P,className:U({settingLanguageSaveButton:!0,settingLanguageSaveButtonCancel:!0}),children:"Cancel"}),e.jsx("div",{onClick:d,className:U({settingLanguageSaveButton:!0,settingLanguageSaveButtonChange:!0}),children:s?e.jsx(la,{size:"small"}):e.jsx(e.Fragment,{children:"Switch to Arabic"})})]})]})});const xo=()=>{const[o,a]=t.useState(!1),[s,n]=t.useState(""),r=async()=>{try{const i=await fs();i&&i.data&&(n(i.data),a(!0))}catch(i){console.log(i)}};return t.useEffect(()=>{r()},[]),o?e.jsxs("div",{className:"bulletin-banner",children:[e.jsx(b,{type:"ExclamationMark"}),e.jsx("span",{children:s})]}):null};const yo=o=>{const{t:a}=ae(),s=()=>{o.onClose()};return e.jsxs(je,{wrapClassName:"freeTrial-success-modal",open:o.open,destroyOnClose:!0,centered:!0,footer:null,width:432,maskClosable:!0,onCancel:s,children:[e.jsx(b,{className:"free-trial-success-icon",type:"freeTrialSuccess"}),e.jsxs("div",{className:"free-trial-content",children:[e.jsx("div",{className:"free-trial-content-title",children:a("layout.freeTrial.successfullyAppled")}),e.jsxs("div",{className:"free-trial-content-tip",children:[e.jsx(b,{type:"yesSideBar"}),a("layout.freeTrial.anyTimeCancel")]}),e.jsxs("div",{className:"free-trial-content-tip",children:[e.jsx(b,{type:"yesSideBar"}),a("layout.freeTrial.remindEmail")]}),e.jsxs("div",{className:"free-trial-content-tip",children:[e.jsx(b,{type:"yesSideBar"}),a("layout.freeTrial.preYearPrice",{productPrice:o.productPrice})]})]}),e.jsx("div",{className:"free-trial-success-btn",onClick:s,children:a("layout.freeTrial.enjoyBenefit")})]})};const To=t.lazy(()=>ge(()=>import("./index-31086e7d.js"),["assets/index-31086e7d.js","assets/r-vendor-5a2adf97.js","assets/__commonjsHelpers__-de833af9.js","assets/tools-vendor-6d2499dd.js","assets/event-1d0976c1.js","assets/ui-vendor-22bbf91d.js","assets/event-9390b2f4.css","assets/index-345f7980.css"])),{VITE_APP_PROMO_URL:jo}={VITE_APP_GA_TRACKING_ID:"G-GCNH5GGHBR",VITE_APP_GA_ADS_ID_OLD:"AW-11272106486",VITE_APP_TITLE:"PopAi",VITE_APP_IMAGE:"https://popaife.s3.ap-southeast-1.amazonaws.com/logo/popai-logo.svg",VITE_APP_GOOGLE_CLIENT_ID:"476681674934-g02u1qr1jh8apjj4d9t725t9t6mdkkqb.apps.googleusercontent.com",VITE_APP_APPLE_CLIENT_ID:"com.popai.chatsign.web",VITE_APP_TPL_PREVIEW_BASE_URL:"https://api.popai.pro",VITE_APP_FASTSPRING_FRONT_URL:"popaipro.onfastspring.com/popup-popaipro",VITE_APP_STRIPE_PUBLISH_KEY:"pk_live_51NEOwrLv0OqyBAuocZl621IpfBDzEDoYKz5QrmzX1Rtp72tW41UYPwYnwaXQIHb4BSqSkoENNLA6f6sKM49SQCp7009cPHNGoe",VITE_APP_UPLOAD_IMAGE_BUCKET:"popai-file",VITE_APP_VF_DM_PROJECT_ID:"65688545d14f4f0007f71bdf",VITE_APP_VF_DM_PROJECT_ID_AR:"65e6f0a2905ec742d67e63a7",VITE_APP_AID:"32013",VITE_APP_PRODUCT_NAME:"popai",VITE_APP_APP_NAME:"popai-web",VITE_APP_NAME:"production",VITE_APP_HOST:"https://www.popai.pro",VITE_APP_API_PROXY:"https://api.popai.pro",VITE_APP_BASE_URL:"https://api.popai.pro",VITE_APP_DOMAIN:".popai.pro",VITE_APP_ANALYSIS_BASE_URL:"https://ug.popai.pro",VITE_APP_GA_ADS_ID_NEW:"AW-11283983651",VITE_APP_ANALYSIS_ID:"12",VITE_APP_META_PIXEL_ID1:"1693476791126527",VITE_APP_META_PIXEL_ID2:"3290089001281844",VITE_APP_META_PIXEL_ID3:"1261230351232091",VITE_APP_META_PIXEL_ID4:"680298653708319",VITE_APP_BING_UET_TAG_ID:"343087646",VITE_APP_TWITTER_PIXEL_ID:"ogygr",VITE_APP_TWITTER_PIXEL_ID1:"oi1kw",VITE_APP_LINKEDIN_ID:"5431082",VITE_APP_CHROME_PLUGIN_REDIRECT_URI:"https://www.popai.pro",VITE_APP_CHROME_PLUGIN_ID:"jaaajddkaoldkiajncgakhmogoboijoo",VITE_APP_ALIFE_PID:"bv3hiie0te@b0077a65ecc9738",VITE_APP_PROMO_URL:"https://promo.popai.pro",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1},{Content:No,Sider:bo}=cn,{VITE_APP_GA_TRACKING_ID:Ba,VITE_APP_GA_ADS_ID_OLD:Ya,VITE_APP_GA_ADS_ID_NEW:Fa}={VITE_APP_GA_TRACKING_ID:"G-GCNH5GGHBR",VITE_APP_GA_ADS_ID_OLD:"AW-11272106486",VITE_APP_TITLE:"PopAi",VITE_APP_IMAGE:"https://popaife.s3.ap-southeast-1.amazonaws.com/logo/popai-logo.svg",VITE_APP_GOOGLE_CLIENT_ID:"476681674934-g02u1qr1jh8apjj4d9t725t9t6mdkkqb.apps.googleusercontent.com",VITE_APP_APPLE_CLIENT_ID:"com.popai.chatsign.web",VITE_APP_TPL_PREVIEW_BASE_URL:"https://api.popai.pro",VITE_APP_FASTSPRING_FRONT_URL:"popaipro.onfastspring.com/popup-popaipro",VITE_APP_STRIPE_PUBLISH_KEY:"pk_live_51NEOwrLv0OqyBAuocZl621IpfBDzEDoYKz5QrmzX1Rtp72tW41UYPwYnwaXQIHb4BSqSkoENNLA6f6sKM49SQCp7009cPHNGoe",VITE_APP_UPLOAD_IMAGE_BUCKET:"popai-file",VITE_APP_VF_DM_PROJECT_ID:"65688545d14f4f0007f71bdf",VITE_APP_VF_DM_PROJECT_ID_AR:"65e6f0a2905ec742d67e63a7",VITE_APP_AID:"32013",VITE_APP_PRODUCT_NAME:"popai",VITE_APP_APP_NAME:"popai-web",VITE_APP_NAME:"production",VITE_APP_HOST:"https://www.popai.pro",VITE_APP_API_PROXY:"https://api.popai.pro",VITE_APP_BASE_URL:"https://api.popai.pro",VITE_APP_DOMAIN:".popai.pro",VITE_APP_ANALYSIS_BASE_URL:"https://ug.popai.pro",VITE_APP_GA_ADS_ID_NEW:"AW-11283983651",VITE_APP_ANALYSIS_ID:"12",VITE_APP_META_PIXEL_ID1:"1693476791126527",VITE_APP_META_PIXEL_ID2:"3290089001281844",VITE_APP_META_PIXEL_ID3:"1261230351232091",VITE_APP_META_PIXEL_ID4:"680298653708319",VITE_APP_BING_UET_TAG_ID:"343087646",VITE_APP_TWITTER_PIXEL_ID:"ogygr",VITE_APP_TWITTER_PIXEL_ID1:"oi1kw",VITE_APP_LINKEDIN_ID:"5431082",VITE_APP_CHROME_PLUGIN_REDIRECT_URI:"https://www.popai.pro",VITE_APP_CHROME_PLUGIN_ID:"jaaajddkaoldkiajncgakhmogoboijoo",VITE_APP_ALIFE_PID:"bv3hiie0te@b0077a65ecc9738",VITE_APP_PROMO_URL:"https://promo.popai.pro",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1};let ke={};const vo=o=>{const{openLoginModal:a,productYearPrice:s}=o,{webId:n,setWebId:r}=an.getState(),i=Te(u=>u.language),{sendEvent:I}=ue(),d=Ue(),P=Ke(),{t:m,i18n:p}=ae(),{userInfo:l,shareKey:T,discountInfo:A,setShareKey:F,setUserInfo:D}=de(),{fetchUserInfo:L}=ca(),{model:c,chatModel:M,modelList:G,historyOpen:h,requirePayInfo:C,siderCollapsed:f,setModel:x,setChatModel:N,setModelList:H,setAiCreation:$,setCategories:w,setLanguageInfo:q,setHistoryOpen:K,setRequirePayInfo:S,setGpt4v:se,setSiderCollapsed:le,setUsageInfo:Ee,setLanguage:Pe,setIsNewHome:me}=Te(),{fetchUsagesInfo:pe}=un(),{openFeedback:fe}=Lt(),{message:he}=Je.useApp(),[B,Y]=t.useState(!1),[J,te]=t.useState(!1),[Ie,v]=t.useState(!1),[g,y]=t.useState(0),[W,ne]=t.useState(!1),[ie,_]=t.useState(""),[V,k]=t.useState(""),[R,X]=t.useState(!1),[Le,ce]=t.useState(!1),[Ye,oe]=t.useState(!1);t.useState(!1);const[Ae,Ne]=t.useState(!1),[ra,pn]=t.useState(!1),[gn,xa]=t.useState(!1),[mn,ya]=t.useState(!1),Me=t.useRef(!0),[Ta,da]=t.useState(!1),[hn,ja]=t.useState(!1),_n=async()=>{try{const u=await Es();y(u.data)}catch(u){console.log(u)}},Pn=async()=>{try{const j=(await As()).data;ke=j,H(Ze(l)?j==null?void 0:j.languageModelList4PCNew:j==null?void 0:j.languageModelList4PC),w(j==null?void 0:j.communityList),$(j==null?void 0:j.aiCreationWorkshop),se(!!(j!=null&&j.gpt4v))}catch(u){console.log(u)}},{data:Oe,loading:Na,run:ua}=Os(Is,{ready:!!(l!=null&&l.isLogin),onSuccess:()=>{Me!=null&&Me.current&&(Me.current=!1)}}),fn=t.useMemo(()=>(Me==null?void 0:Me.current)&&Na,[Na]),In=async()=>{try{const u=await xs(),j=Ks(u.data,({langcode:Z})=>Z!=="--"),Q=Js(u.data,({langcode:Z})=>Z!=="--");q({recommend:j,all:Q})}catch(u){console.log(u)}},En=async u=>{F("");try{const j=await mt({shareKey:u});if(j.code===200&&j.data){const Q=j.data;Ca(Q==null?void 0:Q.channelId,!1)}}catch(j){console.log(j)}},An=async()=>{try{(await ys()).data?xa(!0):xa(!1)}catch(u){console.log(u)}},ba=async()=>{P("/".concat(d==null?void 0:d.search))};t.useEffect(()=>{C.requirePay>0&&(Fe({errorMsg:C.errorMsg,source:C==null?void 0:C.source,shortMessage:C==null?void 0:C.shortMessage}),S({requirePay:0,errorMsg:"",source:"",shortMessage:""}))},[C]),t.useEffect(()=>{Ws(l==null?void 0:l.isLogin)&&(l!=null&&l.isLogin)&&(pe(),An(),_n())},[l==null?void 0:l.isLogin]),t.useEffect(()=>{T&&(l!=null&&l.isLogin)&&En(T)},[l==null?void 0:l.isLogin,T]),t.useEffect(()=>{var Q;const u=Re.parse((Q=d==null?void 0:d.search)==null?void 0:Q.slice(1));if(u==null?void 0:u.shareKey){const Z=Xs(u);Z==null||delete Z.shareKey,F(u==null?void 0:u.shareKey),P("/?".concat(Re.stringify(Z)))}},[]),t.useEffect(()=>{Ba&&(ha.initialize(Ba,{testMode:!1}),Ya&&ha.gtag("config",Ya),Fa&&ha.gtag("config",Fa))},[]),t.useEffect(()=>{Pn(),In();const u=()=>{const j=window.innerHeight*.01;document.documentElement.style.setProperty("--vh","".concat(j,"px"))};La()||u()},[]),t.useEffect(()=>{var j;const u=G==null?void 0:G.filter(Q=>Q.role==="DocChat");x(u.length>0&&!u.some(Q=>Q.name===c)?(j=u==null?void 0:u[0])==null?void 0:j.name:c)},[G,c]),t.useEffect(()=>{const u=G==null?void 0:G.filter(j=>j.role==="Chat");N(u.length>0&&!u.some(j=>j.name===M)?u[0].name:M)},[M,G]),t.useEffect(()=>{s&&(_(s),ne(!0))},[s]);const xn=u=>{const{key:j,icon:Q,label:Z,onClick:Kn}=u;return e.jsxs("div",{className:"label-container",onClick:Kn,children:[e.jsx("span",{className:"label-icon",children:Q||null}),e.jsx("span",{className:"label-title",children:Z})]},j)},yn=async()=>{localStorage.removeItem(Ge.Authorization),D(nn),Ee(Ts),te(!1);const u=bs();window.location.href="".concat(u,"/logout")},ea=u=>(l.isLogin||(a==null||a(),I("Triggerlogin",{clickType:(u==null?void 0:u.type)||"default"})),!!l.isLogin),Tn=()=>{te(!1)},jn=()=>{Y(!1),te(!0)},Nn=()=>{Y(!1),Ne(!0)},bn=async()=>{I("refer_click"),await L();const{userInfo:u}=de.getState();if(["ACTIVE","PENDING"].includes(u==null?void 0:u.partnerStatus))try{const j=await js();j&&j.data&&window.open(j.data,"_blank")}catch(j){console.log(j)}else window.open("".concat(jo,"/affilliateProgram?authorization=").concat(localStorage.getItem(Ge.Authorization)),"_blank")},va=u=>{u==null||u.stopPropagation(),oe(!0)},vn=u=>{u==null||u.stopPropagation(),Y(!1),I("AllRelease",{releaseSource:"Set"}),P("/releasenote")},Cn=()=>{oe(!1)},Fe=async u=>{var Q;const j=(u==null?void 0:u.source)||(C==null?void 0:C.source);return da(!!(j!=null&&j.includes("MAXEDITABLEPROJECT"))),l.isPro?(Q=l==null?void 0:l.parsedRoles)!=null&&Q.includes("Trail")?he.open({content:e.jsx(we,{icon:"error",content:m("common.ftNotuUpgrade")})}):pa(!0):(v(!0),k((u==null?void 0:u.shortMessage)||""),I("Triggerpay",{source:j}),g&&j&&I("Triggerfreetrial",{type:"Passive"})),l.isPro},aa=()=>{Fe==null||Fe(),I("Clickpay"),g&&I("Triggerfreetrial",{type:"Click"})},wn=()=>{v(!1),k(""),Ta&&(da(!1),P("/creation/".concat(oa.MyProject)))},Sn=u=>{_(u),ne(!0)},Ln=()=>{X(!1),Ta&&(da(!1),P("/creation/".concat(oa.MyProject)))},Mn=()=>{I("Managerbilling"),g&&I("Freetrialmanagerbilling"),pa(!1)},pa=u=>{pn(!!u),X(!0)},Dn=()=>{X(!1),aa()},Vn=()=>{ne(!1)},kn=u=>{u&&pe(),Y(u)},Rn=u=>{const j=(u==null?void 0:u.length)>0;K(j),I(j?"Openhistory":"Closehistory")},Un=()=>{le(u=>!u),I(f?"Showsidebar":"Hidesidebar")},Ca=(u,j=!0)=>{ua(),u&&P("/chat/".concat(u).concat(j?d==null?void 0:d.search:""))},On=()=>{Ne(!1),fe()},Gn=[{key:"feedback",icon:e.jsx(b,{type:"feedback"}),label:m("layout.usersnap.feedback"),onClick:Nn},l.partnerStatus!=="BLOCKED"&&i!=="ar"&&gn&&{key:"Refer & Earn",icon:e.jsx(b,{type:"referAndEarn"}),label:"Refer & Earn",onClick:bn},{key:"Download iOS App/extension",icon:e.jsx(b,{type:"mobile"}),label:m("layout.usersnap.donwloadApp"),onClick:va},{key:"Release Notes",icon:e.jsx(b,{className:"release-notes",type:"notes"}),label:m("layout.usersnap.ReleaseNotes"),onClick:vn},{key:"Setting",icon:e.jsx(b,{type:"setting"}),label:m("layout.usersnap.setting"),onClick:()=>ya(!0)},!1,!!l.isLogin&&{key:"Log out",icon:e.jsx(b,{type:"logout"}),label:m("common.logOut"),onClick:jn}].filter(Boolean),wa=()=>e.jsxs(e.Fragment,{children:[!!l.isLogin&&e.jsx(po,{onSubscription:Mn}),e.jsx("div",{className:"user-menu-list",children:Gn.map(u=>xn(u))})]}),Bn=()=>e.jsx("div",{className:"history-container-expanded",children:e.jsx(At,{rootClassName:"history-collapse-container",activeKey:h?"history":"",ghost:!0,bordered:!1,expandIcon:()=>h?e.jsx(b,{className:"arrow-icon-active",type:"arrowBottomSquare"}):e.jsx("div",{className:"isRtlIcon_language_ar",children:e.jsx(b,{className:"arrow-icon",type:"arrowRightSquare"})}),expandIconPosition:"end",items:[{key:"history",label:e.jsxs("div",{className:U({"collapse-title":!0,"collapse-title-active":h}),children:[e.jsx(b,{className:"time-icon",type:"time"}),m("layout.chatHistoryLabel")]}),children:e.jsx(Ga,{dataSource:(Oe==null?void 0:Oe.data)||[],loading:fn,onOperationComplete:ua})}],onChange:Rn})}),Yn=()=>e.jsx(ta,{overlayClassName:"history-dropdown",placement:"right",open:Le,destroyTooltipOnHide:!0,arrow:!1,content:e.jsxs("div",{className:"collapsed-history-wrapper",children:[e.jsx("div",{className:"history-title",children:m("layout.chatHistoryLabel")}),e.jsx("div",{className:"history-wrapper",children:e.jsx(Ga,{collapsed:!0,dataSource:(Oe==null?void 0:Oe.data)||[],onSelected:()=>ce(!1),onOperationComplete:ua})})]}),onOpenChange:ce,children:e.jsx("div",{className:"history-container-collapsed",children:e.jsx(b,{className:"time-icon",type:"time"})})}),Sa=()=>{var j;const u=(j=l==null?void 0:l.parsedRoles)==null?void 0:j.includes("Trail");return l!=null&&l.isUnlimited?e.jsxs("div",{className:"user-badge",children:[e.jsx(b,{type:"unlimited"}),u&&!f&&e.jsx(b,{type:"freetrial",className:"free-trial-icon"})]}):l!=null&&l.isProPlus?e.jsxs("div",{className:"user-badge",children:[e.jsx(b,{type:"proPlus"}),u&&!f&&e.jsx(b,{type:"freetrial",className:"free-trial-icon"})]}):(l==null?void 0:l.isPro)&&e.jsxs("div",{className:"user-badge",children:[e.jsx(b,{type:"proBadge"}),u&&!f&&e.jsx(b,{type:"freetrial",className:"free-trial-icon"})]})},Fn=()=>e.jsx(ta,{overlayClassName:"setting-dropdown",placement:"top",trigger:"click",arrow:!1,open:B,zIndex:999,onOpenChange:kn,content:wa(),children:e.jsxs("div",{className:"user-info-content",children:[e.jsxs("div",{className:"user-info",children:[e.jsx(Da,{className:U({"user-avatar-login":l.isLogin}),size:32,bordered:!(l!=null&&l.picture),src:l==null?void 0:l.picture}),e.jsxs("div",{className:"user-name",children:[e.jsx("div",{className:"user-name-text ellipsis",children:l==null?void 0:l.username}),Sa()]})]}),e.jsxs("div",{className:"user-info-survey",onClick:va,children:[e.jsx(b,{className:"user-info-icon",type:"appStore"}),e.jsxs("div",{children:[e.jsx(b,{className:"user-info-icon",type:"chrome"}),i==="ar"?e.jsx("div",{className:"new-tag",children:m("common.new")}):e.jsx(b,{className:"new-tag",type:"new"})]})]})]})}),Hn=()=>e.jsx(ta,{overlayClassName:"setting-dropdown setting-dropdown-collapsed",placement:"topLeft",trigger:"click",arrow:!1,autoAdjustOverflow:!1,open:B,zIndex:999,onOpenChange:Y,content:wa(),children:e.jsxs("div",{className:"collapsed-avatar-wrapper",children:[e.jsx(Da,{className:U({"user-avatar-login":l.isLogin}),size:32,bordered:!(l!=null&&l.picture),src:l==null?void 0:l.picture}),Sa()]})}),qn=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"brand-logo-container-expanded",onClick:ba,children:[e.jsx(b,{className:"logo",type:"logoBgGray"}),m("layout.brandName")]}),e.jsx("div",{className:"sider-divider-expanded"}),e.jsx(Ra,{userInfo:l,checkLoginStatus:ea}),e.jsx("div",{className:"sider-divider-expanded"}),Bn(),e.jsxs("div",{className:"sider-footer-expanded",children:[l.isLogin?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"user-info-container",children:[e.jsx("div",{className:"sider-divider-expanded sider-divider-expanded-short"}),Fn()]}),!(l!=null&&l.isPro)&&e.jsxs("div",{className:"upgrade-pro-btn-container",children:[(A==null?void 0:A.discount)&&e.jsxs("div",{className:"discount-tag",children:["New Year ",(A==null?void 0:A.discount)*100,"% off"]}),g?e.jsxs("button",{className:"free-trial-btn",onClick:aa,children:[e.jsx(b,{type:"rocket",className:"isRtlIcon_language_ar"}),m("layout.sideMenu.freeTrialLabel")]}):e.jsx("button",{className:"upgrade-pro-btn",onClick:aa,children:m("layout.sideMenu.upgradeToProLabel")})]})]}):e.jsx(uo,{checkLoginStatus:ea}),!1]})]}),Qn=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"brand-logo-container-collapsed",onClick:ba,children:e.jsx(b,{className:"logo",type:"logoBgGray"})}),e.jsx("div",{className:"sider-divider-collapsed"}),e.jsxs("div",{className:"menu-group",children:[e.jsx(Ra,{collapsed:!0,userInfo:l,checkLoginStatus:ea}),Yn()]}),e.jsxs("div",{className:"sider-footer-collapsed",children:[Hn(),(l==null?void 0:l.isLogin)&&!(l!=null&&l.isPro)&&e.jsx(b,{className:"membership-icon",type:"membership",onClick:aa})]})]}),$n=()=>{var Z;const u=localStorage.getItem("isAutoChangeLanguage"),j=(Z=(navigator==null?void 0:navigator.language)||(navigator==null?void 0:navigator.languages[0]))!=null?Z:"en",Q=u!=="true"&&j==="ar"&&Xe.language!=="ar";Q&&l.isNew===0?ja(!0):Q&&l.isNew===1&&(p.changeLanguage("ar"),Pe("ar"),localStorage.setItem("isAutoChangeLanguage","true"))},zn=()=>{if(localStorage.getItem("isAutoChangeLanguage")!=="true"){const j=(navigator==null?void 0:navigator.language)||(navigator==null?void 0:navigator.languages[0]);p.changeLanguage(j==="ar"?"ar":"en"),Pe(j==="ar"?"ar":"en")}};t.useEffect(()=>{l!=null&&l.isLogin?$n():zn()},[l]);const Wn=async()=>{var u,j;try{let Q;n?Q=n:(Q=Zs(),r(Q));const Z=await Ns({did:Q,eid:"14cd8645-813f-43d4-8c5f-443f8b161803"});me(!!Z.data.result),ga((j=(u=Z==null?void 0:Z.data)==null?void 0:u.group)!=null?j:"B")}catch(Q){console.error(Q),me(!1),ga("B")}},Xn=()=>{const u=window.navigator.platform;let j=null;return u.indexOf("Mac")!==-1||u.indexOf("Win")!==-1?j=!0:j=!1,j},ga=u=>{const j=Re.parse(d.search.replace("?","")),Q=j==null?void 0:j.utm_source;let Z="";Q?Z=window.location.href:window.document.referrer&&(Z=window.document.referrer),I("home_show",{source_url:Z,interface_language:Xe.language,is_old:u})};return t.useEffect(()=>{La()&&Xn()?Wn():(me(!1),ga("B"))},[]),e.jsxs(e.Fragment,{children:[e.jsx(xo,{}),e.jsxs(cn,{className:"layout-container",children:[e.jsxs(bo,{className:"layout-sider-wrapper",width:f?56:256,children:[e.jsx("div",{className:U({"layout-sider":!0,"layout-sider-expanded":!f,"layout-sider-collapsed":f}),children:f?Qn():qn()}),e.jsx("button",{className:"layout-sider-toggle-btn",onClick:Un,children:f?e.jsx(b,{className:"toggle-btn-icon",type:"rightArrow"}):e.jsx(b,{className:"toggle-btn-icon",type:"leftArrow"})})]}),e.jsx(No,{className:"layout-content-wrapper",children:e.jsx("div",{className:"layout-content",children:e.jsx(Gs,{context:{checkLoginStatus:ea,checkPayStatus:Fe,createComplete:Ca,handleUpgradeMultiply:pa}})})}),e.jsx(Gt,{open:J,onCancel:Tn,onConfirm:yn,title:m("layout.confirmLogout"),desc:m("layout.LogoutDescription"),okText:m("common.logOut"),cancelText:m("common.cancel")}),e.jsx(Bt,{open:Ye,onCancel:Cn}),e.jsx(Jt,{open:Ie,freeTrial:g,shortMessage:V,onClose:wn,paySuccess:Sn}),e.jsx(ro,{showUpgrade:ra,open:R,onClose:Ln,onUpgrade:Dn}),e.jsx(yo,{open:W,productPrice:ie,onClose:Vn}),!1,e.jsx(t.Suspense,{children:e.jsx(To,{open:Ae,setOpen:Ne,openFeedback:On})}),e.jsx(Eo,{open:mn,onClose:ya}),e.jsx(Ao,{isShow:hn,setIsShow:ja})]})]})},Co=Ot(vo);function ni(){return Us()}const Qe=()=>{const o=Ke(),a=Ue(),{t:s}=ae(),n=()=>{o("/".concat(a.search))};return e.jsx(xt,{status:"warning",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:e.jsx(ye,{type:"primary",onClick:n,children:s("pages.errorPage.backHome")})})},wo=o=>{const{children:a}=o;return e.jsx(t.Suspense,{children:a})};function Ce(o){return s=>e.jsx(wo,{children:e.jsx(o,{...s})})}const So=Ce(t.lazy(()=>ge(()=>import("./index-2f766fe4.js"),["assets/index-2f766fe4.js","assets/r-vendor-5a2adf97.js","assets/__commonjsHelpers__-de833af9.js","assets/tools-vendor-6d2499dd.js","assets/PromptInputImage-d67d0235.js","assets/event-1d0976c1.js","assets/ui-vendor-22bbf91d.js","assets/event-9390b2f4.css","assets/index-9464c3f8.js","assets/index-c9b5bf3d.css","assets/index-f25f2bec.js","assets/index-96c00dca.css","assets/PromptInputImage-dcdff231.css","assets/empty-tpl-eba8e5e7.js","assets/index-3c191ae6.js","assets/p-vendor-e670b079.js","assets/index-e2f73ffe.css","assets/empty-tpl-fc16312c.css","assets/index-af6a3d66.js","assets/index-4b36e79d.css","assets/index-c0e2e753.js","assets/index-55bdeb08.js","assets/index-2f4be80f.css","assets/index-891efb79.css"]))),Lo=Ce(t.lazy(()=>ge(()=>import("./index-41962225.js"),["assets/index-41962225.js","assets/r-vendor-5a2adf97.js","assets/__commonjsHelpers__-de833af9.js","assets/tools-vendor-6d2499dd.js","assets/event-1d0976c1.js","assets/ui-vendor-22bbf91d.js","assets/event-9390b2f4.css","assets/index-3c191ae6.js","assets/p-vendor-e670b079.js","assets/index-9464c3f8.js","assets/index-c9b5bf3d.css","assets/index-e2f73ffe.css","assets/PromptInputImage-d67d0235.js","assets/index-f25f2bec.js","assets/index-96c00dca.css","assets/PromptInputImage-dcdff231.css","assets/empty-tpl-eba8e5e7.js","assets/empty-tpl-fc16312c.css","assets/index-af6a3d66.js","assets/index-4b36e79d.css","assets/index-18589288.js","assets/index-cda5d5ea.css","assets/index-f5c41b13.css"]))),Mo=Ce(t.lazy(()=>ge(()=>import("./index-99697b49.js"),["assets/index-99697b49.js","assets/r-vendor-5a2adf97.js","assets/__commonjsHelpers__-de833af9.js","assets/tools-vendor-6d2499dd.js","assets/event-1d0976c1.js","assets/ui-vendor-22bbf91d.js","assets/event-9390b2f4.css","assets/PromptInputImage-d67d0235.js","assets/index-9464c3f8.js","assets/index-c9b5bf3d.css","assets/index-f25f2bec.js","assets/index-96c00dca.css","assets/PromptInputImage-dcdff231.css","assets/index-3c191ae6.js","assets/p-vendor-e670b079.js","assets/index-e2f73ffe.css","assets/index-55bdeb08.js","assets/wb-vender-7940e84d.js","assets/wb-vender-6272c7c2.css","assets/h2c-vendor-f4fa673c.js","assets/index-f039019f.js","assets/index-d8897a76.css","assets/index-18589288.js","assets/index-cda5d5ea.css","assets/index-29ec923c.css"]))),Do=Ce(t.lazy(()=>ge(()=>import("./index-7803d4de.js"),["assets/index-7803d4de.js","assets/r-vendor-5a2adf97.js","assets/__commonjsHelpers__-de833af9.js","assets/tools-vendor-6d2499dd.js","assets/index-86858ad0.js","assets/event-1d0976c1.js","assets/ui-vendor-22bbf91d.js","assets/event-9390b2f4.css","assets/index-20a32b1d.css","assets/index-a85f756e.css"]))),Vo=Ce(t.lazy(()=>ge(()=>import("./index-1459a7ca.js"),["assets/index-1459a7ca.js","assets/r-vendor-5a2adf97.js","assets/__commonjsHelpers__-de833af9.js","assets/tools-vendor-6d2499dd.js","assets/ui-vendor-22bbf91d.js","assets/index-db0f25ed.css"]))),ko=Ce(t.lazy(()=>ge(()=>import("./index-b9d5856f.js"),["assets/index-b9d5856f.js","assets/r-vendor-5a2adf97.js","assets/__commonjsHelpers__-de833af9.js","assets/tools-vendor-6d2499dd.js","assets/ui-vendor-22bbf91d.js","assets/index-b780ce98.css"]))),Ro=Ce(t.lazy(()=>ge(()=>import("./index-7cb8225c.js"),["assets/index-7cb8225c.js","assets/r-vendor-5a2adf97.js","assets/__commonjsHelpers__-de833af9.js","assets/tools-vendor-6d2499dd.js","assets/ui-vendor-22bbf91d.js","assets/index-055bc1be.css"]))),Uo=Ce(t.lazy(()=>ge(()=>import("./index-88f2c43f.js"),["assets/index-88f2c43f.js","assets/r-vendor-5a2adf97.js","assets/__commonjsHelpers__-de833af9.js","assets/tools-vendor-6d2499dd.js","assets/event-1d0976c1.js","assets/ui-vendor-22bbf91d.js","assets/event-9390b2f4.css","assets/index-af6a3d66.js","assets/index-4b36e79d.css","assets/index-c0e2e753.js","assets/index-9464c3f8.js","assets/index-c9b5bf3d.css","assets/index-55bdeb08.js","assets/index-f25f2bec.js","assets/index-96c00dca.css","assets/index-2f4be80f.css","assets/index-4cd9df1f.css"]))),Oo=Ce(t.lazy(()=>ge(()=>import("./index-dcf72056.js"),["assets/index-dcf72056.js","assets/r-vendor-5a2adf97.js","assets/__commonjsHelpers__-de833af9.js","assets/tools-vendor-6d2499dd.js","assets/index-9464c3f8.js","assets/event-1d0976c1.js","assets/ui-vendor-22bbf91d.js","assets/event-9390b2f4.css","assets/index-c9b5bf3d.css","assets/index-dcd00474.css"])));var $a,za,Wa;const Ha=(Wa=(za=($a=window==null?void 0:window.location)==null?void 0:$a.pathname)==null?void 0:za.match(/^\/chats\/([a-f\d]{4}(?:[a-f\d]{4}-){4}[a-f\d]{12})$/i))==null?void 0:Wa[1],qa=vs();var Xa,Ka,Ja,Za;const Go=[{path:"/",element:qa?e.jsx(qe,{to:"/m".concat((Xa=window==null?void 0:window.location)==null?void 0:Xa.search),replace:!0}):e.jsx(Co,{}),children:[{path:"/",element:e.jsx(So,{})},{path:"chatwithdoc",element:e.jsx(Uo,{})},{path:"creation/:tab?/:category?",element:e.jsx(Lo,{})},{path:"chat/:conversation",element:e.jsx(Mo,{})},{path:"discover",element:e.jsx(Vo,{})},{path:"releasenote",element:e.jsx(ko,{})},{path:"chats",element:e.jsx(qe,{to:"/".concat((Ka=window==null?void 0:window.location)==null?void 0:Ka.search),replace:!0})},{path:"chats/templates",element:e.jsx(qe,{to:"/creation".concat((Ja=window==null?void 0:window.location)==null?void 0:Ja.search),replace:!0})},{path:"chats/:conversation",element:Ha?e.jsx(qe,{to:"/chat/".concat(Ha),replace:!0}):e.jsx(Qe,{})}]},{path:"m",element:qa?e.jsx(Oo,{}):e.jsx(qe,{to:"/".concat((Za=window==null?void 0:window.location)==null?void 0:Za.search),replace:!0})},{path:"terms/:type",element:e.jsx(Do,{})},{path:"contact",element:e.jsx(Ro,{})},{path:"404",element:e.jsx(Qe,{}),errorElement:e.jsx(Qe,{})},{path:"*",element:e.jsx(Qe,{}),errorElement:e.jsx(Qe,{})}],Bo=()=>Bs(Go);const be={zh:{antdLocale:yt,dayjsLocale:"zh-cn"},en:{antdLocale:Tt,dayjsLocale:"en"},ar:{antdLocale:jt,dayjsLocale:"ar"}},Yo={prefixCls:"chat",theme:{token:{colorPrimary:"#3C38FF"}}},Fo={message:{maxCount:1,top:13}};Promise.resolve().then(()=>{ht()});const Ho=new URLSearchParams(window.location.search),Qa=Ho.get("ref");Qa&&et.set("partner_ref",Qa,{domain:".popai.pro"});const qo=Node.prototype.insertBefore;Node.prototype.insertBefore=function(o,a){if(a&&!this.contains(a)){console.error("Cannot insert before a reference node that is not a child of the parent node");return}qo.call(this,o,a)};const Qo=()=>{const o=Te(i=>i.language),[a,s]=t.useState(be==null?void 0:be[o].antdLocale),{setLanguage:n}=Cs(),{i18n:r}=ae();return t.useEffect(()=>{s(i=>be==null?void 0:be[o].antdLocale),Se.locale(be==null?void 0:be[o].dayjsLocale)},[o]),t.useEffect(()=>{o==="ar"?(document.body.dir="rtl",ge(()=>Promise.resolve({}),["assets/index.rtl-f38763c4.css"]),n({langcode:"ar",languageEnglish:"Arabic",languageLabel:"",languageAr:"",ocrShow:!0,ocrValue:["ara"]})):(n({langcode:"en",languageEnglish:"English",languageLabel:"English",languageAr:"",ocrShow:!0,ocrValue:["eng","enm"]}),document.body.dir="ltr"),r.changeLanguage(o)},[o]),e.jsx(ws,{children:e.jsx(vt,{clientId:"476681674934-g02u1qr1jh8apjj4d9t725t9t6mdkkqb.apps.googleusercontent.com",children:e.jsx(Nt,{...Yo,locale:a,children:e.jsxs(Je,{...Fo,children:[e.jsx(_t,{}),e.jsx(Ss,{children:e.jsx(Fs,{children:e.jsx(Bo,{})})})]})})})})};Ys.createRoot(document.getElementById("root")).render(e.jsx(Qo,{}));export{Gt as C,$o as __vite_legacy_guard,Ze as a,ai as b,un as c,Va as g,ei as s,ni as u};
